{"version":3,"sources":["components/Title.tsx","components/BoardButton.tsx","components/Bottom.tsx","components/Board.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Title","props","className","title","classNames","BoardButton","keyPos","split","map","item","parseInt","row","col","finalClassName","winningTracked","tracked","who","id","disabled","clicked","winnerExists","Bottom","info","onClick","onClickUndo","onClickReset","Board","useState","tiles","Array","from","length","curPlayer","history","winner","winningTracks","status","setStatus","checkWinner","newTiles","topToBot","leftToRight","leftTopToRightBot","leftBotToRightTop","i","push","winningTrack","Set","event","target","Number","isNaN","_","newPlayer","newHistory","putStone","line","j","has","tmp","pop","undefined","Main","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.218fdbe8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\ninterface TitleProps {\r\n  title: string\r\n}\r\n\r\nfunction Title(props: TitleProps) {\r\n  return (\r\n    <div className=\"Title\">\r\n      { props.title }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Title;\r\n","import React from 'react';\r\n\r\ninterface BoardButtonProps {\r\n  keyPos: string,\r\n  who: number,\r\n  clicked: boolean,\r\n  winnerExists: boolean,\r\n  tracked: boolean\r\n}\r\n\r\nconst classNames: string[][] = [\r\n  ['LeftTopCorner', 'TopEdge', 'RightTopCorner'],\r\n  ['LeftEdge', 'InBoard', 'RightEdge'],\r\n  ['LeftBottomCorner', 'BottomEdge', 'RightBottomCorner']\r\n];\r\n\r\nfunction BoardButton(props: BoardButtonProps) {\r\n  const [row, col] = props.keyPos.split(',').map((item) => parseInt(item));\r\n  const rPos = (row === 0) ? 0 : ((row === 18) ? 2 : 1);\r\n  const cPos = (col === 0) ? 0 : ((col === 18) ? 2 : 1);\r\n  const finalClassName = classNames[rPos][cPos];\r\n\r\n  const winningTracked = props.tracked ? 'TrackedResult' : '';\r\n\r\n  return (\r\n    <button\r\n      className={`BoardButton Player${props.who} ${finalClassName} ${winningTracked}`}\r\n      key={props.keyPos}\r\n      id={props.keyPos}\r\n      disabled={props.clicked || props.winnerExists}\r\n    >\r\n      { props.who !== 0 ? (props.who === 1 ? 'âš«' : 'âšª') : 'ðŸ”´' }\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default BoardButton;\r\n","import React from 'react';\r\n\r\ninterface BottomProps {\r\n  info?: string,\r\n  onClickUndo: Function,\r\n  onClickReset: Function\r\n}\r\n\r\nfunction Bottom(props: BottomProps) {\r\n  return (\r\n    <div className=\"Bottom\">\r\n      {\r\n        (props.info && props.info !== '') ?\r\n        <div> { props.info } </div> :\r\n        ''\r\n      }\r\n      <button onClick={() => {props.onClickUndo()}}>\r\n        Undo\r\n      </button>\r\n      <button onClick={() => {props.onClickReset()}}>\r\n        Reset\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bottom;\r\n","import React, { useState } from 'react';\r\nimport BoardButton from './BoardButton';\r\nimport Bottom from './Bottom';\r\n\r\nfunction Board() {\r\n  // Using React hooks\r\n  const [status, setStatus] = useState({\r\n    tiles: Array.from({length: 19}, () => Array.from({length: 19}, () => 0)),\r\n    curPlayer: 1,\r\n    history: Array<number[]>(),\r\n    winner: 0,\r\n    winningTracks: Array<number[]>()\r\n  });\r\n\r\n  const putStone = (row: number, col: number) => {\r\n    if (status.tiles[row][col] !== 0) {\r\n      return;\r\n    }\r\n\r\n    const newTiles = Array.from({length: 19}, (_, i) => Array.from(status.tiles[i]));\r\n    let newPlayer = 0;\r\n\r\n    newTiles[row][col] = status.curPlayer;\r\n    switch (status.curPlayer) {\r\n      case 1:\r\n        newPlayer = 2;\r\n        break;\r\n      case 2:\r\n        newPlayer = 1;\r\n        break;\r\n    }\r\n\r\n    const [winner, winningTracks] = checkWinner(row, col, newTiles);\r\n\r\n    const newHistory = Array.from(status.history);\r\n    newHistory.push([row, col]);\r\n\r\n    setStatus({\r\n      tiles: newTiles,\r\n      curPlayer: newPlayer,\r\n      history: newHistory,\r\n      winner: winner,\r\n      winningTracks: winningTracks\r\n    });\r\n  };\r\n\r\n  const undo = () => {\r\n    if (status.history.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const newHistory = Array.from(status.history);\r\n    const tmp: number[] | undefined = newHistory.pop();\r\n\r\n    if (tmp === undefined) {\r\n      return;\r\n    }\r\n\r\n    const [row, col] = tmp;\r\n    if (row < 0 || row >= 19 || col < 0 || col >= 19) {\r\n      return;\r\n    }\r\n\r\n    const newTiles = Array.from({length: 19}, (_, i) => Array.from(status.tiles[i]));\r\n    let newPlayer = 0;\r\n\r\n    newTiles[row][col] = 0;\r\n    switch (status.curPlayer) {\r\n      case 1:\r\n        newPlayer = 2;\r\n        break;\r\n      case 2:\r\n        newPlayer = 1;\r\n        break;\r\n    }\r\n\r\n    setStatus({\r\n      tiles: newTiles,\r\n      curPlayer: newPlayer,\r\n      history: newHistory,\r\n      winner: 0,\r\n      winningTracks: Array<number[]>()\r\n    });\r\n  };\r\n\r\n  const resetBoard = () => {\r\n    setStatus({\r\n      tiles: Array.from({length: 19}, () => Array.from({length: 19}, () => 0)),\r\n      curPlayer: 1,\r\n      history: Array<number[]>(),\r\n      winner: 0,\r\n      winningTracks: Array<number[]>()\r\n    });\r\n  };\r\n\r\n  const checkWinner = (row: number, col: number, newTiles: number[][]): [number, number[][]] => {\r\n    const winner: number = newTiles[row][col];\r\n\r\n    const topToBot: number[][] = [[row, col]];\r\n    const leftToRight: number[][] = [[row, col]];\r\n    const leftTopToRightBot: number[][] = [[row, col]];\r\n    const leftBotToRightTop: number[][] = [[row, col]];\r\n\r\n    // Vertical\r\n    for (let i = 1; row - i >= 0 && newTiles[row - i][col] === winner; i++) {\r\n      topToBot.push([row - i, col]);\r\n    }\r\n    for (let i = 1; row + i < 19 && newTiles[row + i][col] === winner; i++) {\r\n      topToBot.push([row + i, col]);\r\n    }\r\n    if (topToBot.length === 5) {\r\n      return [winner, topToBot];\r\n    }\r\n\r\n    // Horizontal\r\n    for (let i = 1; col - i >= 0 && newTiles[row][col - i] === winner; i++) {\r\n      leftToRight.push([row, col - i]);\r\n    }\r\n    for (let i = 1; col + i < 19 && newTiles[row][col + i] === winner; i++) {\r\n      leftToRight.push([row, col + i]);\r\n    }\r\n    if (leftToRight.length === 5) {\r\n      return [winner, leftToRight];\r\n    }\r\n\r\n    // Left top to right bottom\r\n    for (let i = 1; row - i >= 0 && col - i >= 0 && newTiles[row - i][col - i] === winner; i++) {\r\n      leftTopToRightBot.push([row - i, col - i]);\r\n    }\r\n    for (let i = 1; row + i < 19 && col + i < 19 && newTiles[row + i][col + i] === winner; i++) {\r\n      leftTopToRightBot.push([row + i, col + i]);\r\n    }\r\n    if (leftTopToRightBot.length === 5) {\r\n      return [winner, leftTopToRightBot];\r\n    }\r\n\r\n    // Left bottom to right top\r\n    for (let i = 1; row + i < 19 && col - i >= 0 && newTiles[row + i][col - i] === winner; i++) {\r\n      leftBotToRightTop.push([row + i, col - i]);\r\n    }\r\n    for (let i = 1; row - i >= 0 && col + i < 19 && newTiles[row - i][col + i] === winner; i++) {\r\n      leftBotToRightTop.push([row - i, col + i]);\r\n    }\r\n    if (leftBotToRightTop.length === 5) {\r\n      return [winner, leftBotToRightTop];\r\n    }\r\n\r\n    return [0, []];\r\n  };\r\n\r\n  const winningTrack: Set<string> = new Set(status.winningTracks.map((item) => `${item[0]},${item[1]}`));\r\n\r\n  return (\r\n    <div className=\"Board\" onClick={(event) => {\r\n      const [row, col] = (event.target as HTMLElement).id.split(',').map((item) => parseInt(item));\r\n      if (Number.isNaN(row) || Number.isNaN(col)) {\r\n        return;\r\n      }\r\n\r\n      putStone(row, col);\r\n    }}>\r\n      <div className=\"Tiles\">\r\n        {\r\n          status.tiles.map((line, i) => {\r\n            return line.map((item, j) => {\r\n              return (<BoardButton\r\n                key={`r${i}c${j}`}\r\n                keyPos={`${i},${j}`}\r\n                who={item}\r\n                clicked={item !== 0}\r\n                winnerExists={status.winner !== 0}\r\n                tracked={status.winner !== 0 ? (winningTrack.has(`${i},${j}`)) : false}\r\n              />);\r\n            });\r\n          })\r\n        }\r\n      </div>\r\n      <Bottom\r\n        info={status.winner !== 0 ? `Player ${status.winner} wins!` : `Player ${status.curPlayer}'s turn!`}\r\n        onClickUndo={undo}\r\n        onClickReset={resetBoard}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Board;\r\n","import React from 'react';\r\nimport Title from './Title';\r\nimport Board from './Board';\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"Main\">\r\n      <Title title=\"React Gomoku\" />\r\n      <Board />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport './App.css';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}