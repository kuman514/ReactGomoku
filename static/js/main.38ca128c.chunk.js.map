{"version":3,"sources":["components/Title.tsx","store/StoreState.tsx","theme/Theme.tsx","components/BoardButton.tsx","Img/LeftTopCorner.png","Img/TopEdge.png","Img/RightTopCorner.png","Img/LeftEdge.png","Img/InBoard.png","Img/RightEdge.png","Img/LeftBottomCorner.png","Img/BottomEdge.png","Img/RightBottomCorner.png","components/Board.tsx","sfxs/SoundEffects.tsx","store/StoreProcess.tsx","store/Store.tsx","components/ReplayBottom.tsx","components/Score.tsx","components/Bottom.tsx","components/ModeChanger.tsx","components/WinnerEffect.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TitleElement","styled","div","Title","props","title","initState","mode","tiles","Array","from","length","curPlayer","history","winner","winningTracks","Set","score","THEME_INDEX","dat","Date","day","getDate","month","getMonth","themeButtons","themeTitle","urls","BoardButtonElement","button","player","position","TrackedButtonElement","BoardButton","keyPos","split","map","item","parseInt","row","col","rPos","cPos","buttonStatus","useSelector","state","who","available","winningTracked","has","id","disabled","BoardElement","TilesElement","Board","dispatch","useDispatch","onClick","event","target","Number","isNaN","type","payload","line","i","_","j","SFXs","player1PutSFX","document","querySelector","player2PutSFX","resetSFX","undoSFX","resultSFX","stopSFX","wav","pause","currentTime","playWav","play","playSFX","wavName","isInRange","HEIGHT","WIDTH","getNewTiles","status","newTiles","getNewPlayer","putStone","newPlayer","directions","n","rDir","cDir","collected","curRow","curCol","push","checkWinner","newHistory","newScore","undo","tmp","pop","undefined","resetBoard","isAvailableMode","modeName","store","createStore","action","BottomButtonElement","ReplayBottom","useState","curTrack","maxTrack","setStatus","useEffect","accept","onChange","files","reader","FileReader","addEventListener","result","JSON","parse","width","height","readAsText","loadReplay","ScoreElement","Score","p1Score","p2Score","BottomElement","BottomType","replayData","getState","file","createElement","fileBlob","Blob","stringify","href","URL","createObjectURL","download","click","Bottom","ModeChangerElement","ModeChanger","value","name","defaultChecked","WinnerEffectElement","WinnerEffectContentElement","WinnerEffect","Main","className","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.38ca128c.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface TitleProps {\r\n  title: string\r\n}\r\n\r\nconst TitleElement = styled.div`\r\n  margin-right: 1vw;\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction Title(props: TitleProps) {\r\n  return (\r\n    <TitleElement>\r\n      { props.title }\r\n    </TitleElement>\r\n  );\r\n}\r\n\r\nexport default Title;\r\n","export interface StoreState {\r\n  mode: string,\r\n  tiles: number[][],\r\n  curPlayer: number,\r\n  history: number[][],\r\n  winner: number,\r\n  winningTracks: Set<string>,\r\n  score: number[]\r\n};\r\n\r\nexport const initState: StoreState = {\r\n  mode: 'GAME',\r\n  tiles: Array.from({length: 19}, () => Array.from({length: 19}, () => 0)),\r\n  curPlayer: 1,\r\n  history: new Array<number[]>(),\r\n  winner: 0,\r\n  winningTracks: new Set<string>(),\r\n  score: [0, 0]\r\n};\r\n","const THEME_BUTTONS = {\r\n  'default': ['âš«', 'âšª'],\r\n  'halloween': ['ðŸŸ£', 'ðŸŸ '],\r\n  'winter': ['ðŸ”´', 'ðŸŸ¢']\r\n};\r\n\r\nconst THEME_TITLES = {\r\n  'default': 'React Gomoku',\r\n  'halloween': 'Halloween Gomoku',\r\n  'winter': 'Holiday Gomoku'\r\n};\r\n\r\nconst THEME_INDEX = (() => {\r\n  const dat: Date = new Date();\r\n\r\n  const day: number = dat.getDate();\r\n  const month: number = dat.getMonth();\r\n\r\n  if (month === 9 && day === 31) {\r\n    // October 31\r\n    return 'halloween';\r\n  } else if ((month === 0 && day === 1) || (month === 11 && day === 25)) {\r\n    // January 1 or December 25\r\n    return 'winter';\r\n  }\r\n\r\n  return 'default';\r\n})();\r\n\r\nexport const themeButtons: string[] = THEME_BUTTONS[THEME_INDEX];\r\nexport const themeTitle: string = THEME_TITLES[THEME_INDEX];\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { StoreState, initState } from '../store/StoreState';\r\nimport { themeButtons } from '../theme/Theme';\r\nimport styled from 'styled-components';\r\n\r\nimport LeftTopCorner from '../Img/LeftTopCorner.png';\r\nimport TopEdge from '../Img/TopEdge.png';\r\nimport RightTopCorner from '../Img/RightTopCorner.png';\r\nimport LeftEdge from '../Img/LeftEdge.png';\r\nimport InBoard from '../Img/InBoard.png';\r\nimport RightEdge from '../Img/RightEdge.png';\r\nimport LeftBottomCorner from '../Img/LeftBottomCorner.png';\r\nimport BottomEdge from '../Img/BottomEdge.png';\r\nimport RightBottomCorner from '../Img/RightBottomCorner.png';\r\n\r\ninterface BoardButtonProps {\r\n  keyPos: string\r\n}\r\n\r\ninterface BoardButtonStyleProps {\r\n  player: number,\r\n  position: number[]\r\n}\r\n\r\ninterface BoardButtonState {\r\n  who: number,\r\n  available: boolean,\r\n  winningTracked: boolean\r\n}\r\n\r\nconst urls: string[] = [\r\n  LeftTopCorner, TopEdge, RightTopCorner,\r\n  LeftEdge, InBoard, RightEdge,\r\n  LeftBottomCorner, BottomEdge, RightBottomCorner\r\n];\r\n\r\nconst BoardButtonElement = styled.button`\r\n  all: unset;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  background-size: 100%;\r\n  color: ${(props: BoardButtonStyleProps) => {\r\n    switch (props.player) {\r\n      case 1:\r\n        return 'black';\r\n      case 2:\r\n        return 'white';\r\n      default:\r\n        return 'transparent';\r\n    }\r\n  }};\r\n  background-image: url(${(props: BoardButtonStyleProps) => {\r\n    return urls[(3 * props.position[0]) + props.position[1]];\r\n  }});\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  &:focus {\r\n    border: 3px solid red;\r\n  }\r\n`;\r\n\r\nconst TrackedButtonElement = styled(BoardButtonElement)`\r\n  animation: FlashTrackedResult linear infinite 600ms;\r\n  @keyframes FlashTrackedResult {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      opacity: 0.3;\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction BoardButton(props: BoardButtonProps) {\r\n  const [row, col] = props.keyPos.split(',').map((item) => parseInt(item));\r\n  const rPos = (row === 0) ? 0 : ((row === 18) ? 2 : 1);\r\n  const cPos = (col === 0) ? 0 : ((col === 18) ? 2 : 1);\r\n  const selector = (state: StoreState = initState): BoardButtonState => {\r\n    return {\r\n      who: state.tiles[row][col],\r\n      available: (state.mode === 'GAME') && (state.winner === 0) && (state.tiles[row][col] === 0),\r\n      winningTracked: state.winningTracks.has(`[${row},${col}]`)\r\n    };\r\n  }\r\n  const buttonStatus = useSelector(selector);\r\n  if (buttonStatus.winningTracked) {\r\n    return (\r\n      <TrackedButtonElement\r\n        player={buttonStatus.who}\r\n        position={[rPos, cPos]}\r\n        key={props.keyPos}\r\n        id={props.keyPos}\r\n        disabled={!buttonStatus.available}\r\n      >\r\n        { buttonStatus.who !== 0 ? (themeButtons[buttonStatus.who - 1]) : 'ðŸ”´' }\r\n      </TrackedButtonElement>\r\n    );\r\n  }\r\n  return (\r\n    <BoardButtonElement\r\n      player={buttonStatus.who}\r\n      position={[rPos, cPos]}\r\n      key={props.keyPos}\r\n      id={props.keyPos}\r\n      disabled={!buttonStatus.available}\r\n    >\r\n      { buttonStatus.who !== 0 ? (themeButtons[buttonStatus.who - 1]) : 'ðŸ”´' }\r\n    </BoardButtonElement>\r\n  );\r\n}\r\n\r\nexport default BoardButton;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABqSURBVFhH7dcxEQAhDADB8OaQgJcX8F6QgDr4IhK4IjO3TaBhrkhDW+/YUcSTswRjKcZSjKUYSzGWYizFWIqxFGMppWKRD2P/Zp7uwmL/d/N2jztLMZZiLMVYirEUYynGUoylGEsxlhFxAPU5DGW3NCUgAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDABBk+UYgV0yQHbJCJkOXHiEfGHpT0LIDfqCxuO7144mrrpbMJZiLMVYirEUYynGUoylGEsxltIqduRpszAi2+183sh3a/qPf5ZiLMVYirEUYynGUoylGEsxlmIsI+IA2V0JZaIQfa0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDAVRk+UYgV0yQHbJCJkOXHiEXGHpnoSgvILmj+9eO5q46m7BWIqxFGMpxlKMpRhLMZZiLMVYSqvYkQcZjDlE6/UfZN3O50Vi/bMUYynGUoylGEsxlmIsxViKsRRjGREHMkAK75ERCYcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDcAwDAXR35ArhHIpgHAJhKJLOgRCbrB0b7G8WLf6+t5n5rC7j/x393ZO27MEYynGUoylGEsxlmIsxViKsRRjKaVisYeR4HdLMZZiLMVYirEUYynGUoylGEsxllIoNlkfKg9lmMQ8rwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABrSURBVFhH7dexDcAgDABBw3KMkF0yALswAtMlFIzgLyz9SZZFg7512+/zRbIxV5x/7ytPv7sEYynGUoylGEsxlmIsxViKsRRjKaVi25n0g5HidUsxlmIsxViKsRRjKcZSjKUYSzGWUig24gcDTgxl/dAqVwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABuSURBVFhH7dfBCcAgEAXR1eZSQnqxAHtJCakuUbCEncPCPBDxInP97R33F8mu+cT697zy9HOXYCzFWIqxFGMpxlKMpRhLMZZiLKVUbFsnfTBuxGB03VKMpRhLMZZiLMVYirEUYynGUoylFIqN+AFcIg3vb7OljwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDYBAEADBB3NIwAsC8IIE1AEFEpiCZKe5fHPZ4pqfzm29xseW/RjP3vf1nfmdv1CsUqxSrFKsUqxSrFKsUqxSrPKrWPZhFEis0s0qxSrFKsUqxSrFKsUqxSrFKsUaY9yR3Axl4EBJtQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dcxDUAhDADR8s0hAS8I+F6QgDpgQEJvILmXENKF3MDSMntbkaz+I867d8rz3fsJxlKMpRhLMZZiLMVYirEUYynGUp6KLeekL4wUZLul+GcpxlKMpRhLMZZiLMVYirEUYynGMiI2dgAJZWqK6D0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABwSURBVFhH7de7CQAhEADR9ZqzBHuxgOvlSrjq/IAl7ATCPBDZRCYw2fL3NiJZfb9Y754pz3PuKxhLMZZiLMVYirEUYynGUoylGEu5Krask74wbsTCiGy3FP8sxViKsRRjKcZSjKUYSzGWYizFWEbEBM7UCu9ULAFPAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport BoardButton from './BoardButton';\r\nimport styled from 'styled-components';\r\n\r\nconst BoardElement = styled.div`\r\n  width: 98vw;\r\n  @media (orientation: landscape) {\r\n    & {\r\n      width: 85vh;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TilesElement = styled.div`\r\n  width: 100%;\r\n  height: 98vw;\r\n  display: grid;\r\n  grid-template-columns: repeat(19, 1fr);\r\n  grid-template-rows: repeat(19, 1fr);\r\n  background-color: rgba(202, 138, 85, 0.5);\r\n  font-size: calc(5px + 2vmin);\r\n  @media (orientation: landscape) {\r\n    & {\r\n      height: 85vh;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Board() {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <BoardElement onClick={(event) => {\r\n      const [row, col] = (event.target as HTMLElement).id.split(',').map((item) => parseInt(item));\r\n      if (Number.isNaN(row) || Number.isNaN(col)) {\r\n        return;\r\n      }\r\n      dispatch({\r\n        type: 'PUT',\r\n        payload: [row, col]\r\n      });\r\n    }}>\r\n      <TilesElement>\r\n        {\r\n          Array.from({length: 19}, () => Array.from({length: 19})).map((line, i) => {\r\n            return line.map((_, j) => {\r\n              return (<BoardButton\r\n                key={`r${i}c${j}`}\r\n                keyPos={`${i},${j}`}\r\n              />);\r\n            });\r\n          })\r\n        }\r\n      </TilesElement>\r\n    </BoardElement>\r\n  );\r\n}\r\n\r\nexport default Board;\r\n","const SFXs = {\r\n  player1PutSFX: document.querySelector('#player1PutSFX'),\r\n  player2PutSFX: document.querySelector('#player2PutSFX'),\r\n  resetSFX: document.querySelector('#resetSFX'),\r\n  undoSFX: document.querySelector('#undoSFX'),\r\n  resultSFX: document.querySelector('#resultSFX')\r\n}\r\n\r\nfunction stopSFX(wav: Element | null): void {\r\n  (wav as HTMLAudioElement).pause();\r\n  (wav as HTMLAudioElement).currentTime = 0;\r\n}\r\n\r\nfunction initSFX(): void {\r\n  stopSFX(SFXs.player1PutSFX);\r\n  stopSFX(SFXs.player2PutSFX);\r\n  stopSFX(SFXs.undoSFX);\r\n  stopSFX(SFXs.resetSFX);\r\n  stopSFX(SFXs.resultSFX);\r\n}\r\n\r\nfunction playWav(wav: Element | null): void {\r\n  initSFX();\r\n  (wav as HTMLAudioElement).play();\r\n}\r\n\r\nexport function playSFX(wavName: string): void {\r\n  switch (wavName) {\r\n    case 'P1PUT':\r\n      playWav(SFXs.player1PutSFX);\r\n      break;\r\n    case 'P2PUT':\r\n      playWav(SFXs.player2PutSFX);\r\n      break;\r\n    case 'UNDO':\r\n      playWav(SFXs.undoSFX);\r\n      break;\r\n    case 'RESET':\r\n      playWav(SFXs.resetSFX);\r\n      break;\r\n    case 'RESULT':\r\n      playWav(SFXs.resultSFX);\r\n      break;     \r\n  }\r\n}\r\n","import { StoreState } from './StoreState';\r\nimport { playSFX } from '../sfxs/SoundEffects';\r\n\r\nconst EMPTY: number = 0;\r\nconst WIDTH: number = 19;\r\nconst HEIGHT: number = 19;\r\nconst OBJECTIVE: number = 5;\r\nconst COL_BOUNDARY: number = WIDTH - 1;\r\nconst ROW_BOUNDARY: number = HEIGHT - 1;\r\n\r\nfunction isInRange(row: number, col: number): boolean {\r\n  if (row < 0 || row > ROW_BOUNDARY || col < 0 || col > COL_BOUNDARY) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nfunction getNewTiles(status: StoreState, row: number, col: number, player: number): number[][] {\r\n  const newTiles = Array.from({length: HEIGHT}, (_, i) => Array.from(status.tiles[i]));\r\n  newTiles[row][col] = player;\r\n  return newTiles;\r\n};\r\n\r\nfunction getNewPlayer(curPlayer: number): number {\r\n  switch (curPlayer) {\r\n    case 1:\r\n      return 2;\r\n    case 2:\r\n      return 1;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nfunction checkWinner(row: number, col: number, newTiles: number[][]): [number, number[][]] {\r\n  const winner: number = newTiles[row][col];\r\n\r\n  const directions: number[][] = [[1, 0], [0, 1], [1, 1], [1, -1]];\r\n  for (let n: number = 0; n < directions.length; n++) {\r\n    const [rDir, cDir] = directions[n];\r\n    const collected: number[][] = [[row, col]];\r\n\r\n    let [curRow, curCol] = [row + rDir, col + cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow += rDir;\r\n      curCol += cDir;\r\n    }\r\n\r\n    [curRow, curCol] = [row - rDir, col - cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow -= rDir;\r\n      curCol -= cDir;\r\n    }\r\n\r\n    if (collected.length === OBJECTIVE) {\r\n      return [winner, collected];\r\n    }\r\n  }\r\n\r\n  return [0, []];\r\n};\r\n\r\nexport function putStone(status: StoreState, row: number, col: number): StoreState {\r\n  if (status.tiles[row][col] !== 0) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: number[][] = getNewTiles(status, row, col, status.curPlayer);\r\n  const newPlayer: number = getNewPlayer(status.curPlayer);\r\n\r\n  const [winner, winningTracks] = checkWinner(row, col, newTiles);\r\n\r\n  const newHistory = Array.from(status.history);\r\n  newHistory.push([row, col]);\r\n\r\n  const newScore = Array.from(status.score);\r\n\r\n  if (winner !== 0) {\r\n    playSFX('RESULT');\r\n    if (status.mode === 'GAME') {\r\n      newScore[winner - 1]++;\r\n    }\r\n  } else {\r\n    playSFX(`P${status.curPlayer}PUT`);\r\n  }\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: winner,\r\n    winningTracks: new Set<string>(\r\n      winningTracks.map((item) => `[${item[0]},${item[1]}]`)\r\n    ),\r\n    score: newScore\r\n  };\r\n};\r\n\r\nexport function undo(status: StoreState): StoreState {\r\n  if (status.history.length === 0) {\r\n    return status;\r\n  }\r\n\r\n  const newHistory = Array.from(status.history);\r\n  const tmp: number[] | undefined = newHistory.pop();\r\n\r\n  if (tmp === undefined) {\r\n    return status;\r\n  }\r\n\r\n  const [row, col] = tmp;\r\n  if (!isInRange(row, col)) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: number[][] = getNewTiles(status, row, col, EMPTY);\r\n  const newPlayer: number = getNewPlayer(status.curPlayer);\r\n\r\n  playSFX('UNDO');\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: EMPTY,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function resetBoard(status: StoreState): StoreState {\r\n  playSFX('RESET');\r\n  \r\n  return {\r\n    ...status,\r\n    tiles: Array.from({length: HEIGHT}, () => Array.from({length: WIDTH}, () => 0)),\r\n    curPlayer: 1,\r\n    history: Array<number[]>(),\r\n    winner: 0,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function isAvailableMode(modeName: string) {\r\n  switch (modeName) {\r\n    case 'GAME': case 'REPLAY':\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport { StoreState, initState } from './StoreState';\r\nimport { StoreActions } from './StoreActions';\r\nimport {\r\n  putStone,\r\n  undo,\r\n  resetBoard,\r\n  isAvailableMode\r\n} from './StoreProcess';\r\n\r\nexport const store = createStore((state: StoreState = initState, action: StoreActions) => {\r\n  /*\r\n    1. PUT TYPE ACTION (coords: [row, col])\r\n      - Put a tile into new coords\r\n      - Push coords as an element in history\r\n      - Check winner and winningTracks\r\n      - Switch player\r\n    2. UNDO TYPE ACTION\r\n      - If there's no history, stop this process\r\n      - Clear a tile in coords of the top element in history\r\n      - Pop the top element in history\r\n      - Switch player\r\n      - Revoke winner and winningTracks\r\n    3. RESET TYPE ACTION - Resets the whole board\r\n      - Clear all the tiles\r\n      - Set curPlayer to 1\r\n      - Clear history\r\n      - Set winner to 0\r\n      - Clear winningTracks\r\n    4. MODECHANGE TYPE ACTION (mode: 'GAME' or 'REPLAY')\r\n      - Mode change resets the whole board\r\n  */\r\n  switch (action.type) {\r\n    case 'PUT':\r\n      return putStone(state, action.payload[0], action.payload[1]);\r\n    case 'UNDO':\r\n      return undo(state);\r\n    case 'RESET':\r\n      return resetBoard(state);\r\n    case 'MODECHANGE':\r\n      return {\r\n        ...resetBoard(state),\r\n        mode: isAvailableMode(action.payload) ? action.payload : state.mode\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nconst BottomButtonElement = styled.button`\r\n  all: unset;\r\n  background-color: gray;\r\n  margin-top: 1vh;\r\n  margin-left: 0.25vw;\r\n  margin-right: 0.25vw;\r\n  padding-left: 0.25vw;\r\n  padding-right: 0.25vw;\r\n\r\n  &:hover {\r\n    background-color: #61dafb;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nfunction ReplayBottom() {\r\n  const dispatch = useDispatch();\r\n  const [status, setStatus] = useState({\r\n    history: Array<number[]>(),\r\n    curTrack: 0,\r\n    maxTrack: 0\r\n  });\r\n\r\n  const loadReplay = (files: FileList): void => {\r\n    if (files.length <= 0) {\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => {\r\n      const result = JSON.parse(reader.result as string);\r\n\r\n      if (result.width !== 19 || result.height !== 19) {\r\n        return;\r\n      }\r\n\r\n      if (result.history === null || result.history === undefined) {\r\n        return;\r\n      }\r\n      \r\n      dispatch({ type: 'RESET' });\r\n      setStatus({\r\n        history: result.history,\r\n        curTrack: 0,\r\n        maxTrack: result.history.length\r\n      });\r\n    });\r\n\r\n    reader.readAsText(files[0]);\r\n  };\r\n\r\n  const onClickPrev = (): void => {\r\n    if (status.curTrack <= 0) {\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'UNDO' });\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack - 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  const onClickNext = () => {\r\n    if (status.curTrack >= status.maxTrack) {\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      type: 'PUT',\r\n      payload: status.history[status.curTrack]\r\n    });\r\n\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack + 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = `React Gomoku :: Replay Mode - ${status.curTrack} / ${status.maxTrack}`;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <label>Replay File: </label>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"application/json\"\r\n        onChange={(event) => {\r\n          if ((event.target as HTMLInputElement).files) {\r\n            loadReplay((event.target as HTMLInputElement).files as FileList);\r\n          }\r\n        }\r\n      }/>\r\n      <BottomButtonElement onClick={onClickPrev}>\r\n        Prev\r\n      </BottomButtonElement>\r\n      {\r\n        `${status.curTrack} / ${status.maxTrack}`\r\n      }\r\n      <BottomButtonElement onClick={onClickNext}>\r\n        Next\r\n      </BottomButtonElement>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ReplayBottom;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { initState, StoreState } from '../store/StoreState';\r\n\r\ninterface ScoreState {\r\n  p1Score: number,\r\n  p2Score: number\r\n}\r\n\r\nconst ScoreElement = styled.div`\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nfunction Score() {\r\n  const selector = (state: StoreState = initState): ScoreState => {\r\n    return {\r\n      p1Score: state.score[0],\r\n      p2Score: state.score[1]\r\n    };\r\n  };\r\n  const status = useSelector(selector);\r\n\r\n  useEffect(() => {\r\n    document.title = `React Gomoku :: ${status.p1Score} - ${status.p2Score}`;\r\n  });\r\n\r\n  return (\r\n    <ScoreElement>\r\n      <span>\r\n        {status.p1Score} - {status.p2Score}\r\n      </span>\r\n    </ScoreElement>\r\n  );\r\n}\r\n\r\nexport default Score;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { store } from '../store/Store';\r\nimport { StoreState, initState } from '../store/StoreState';\r\nimport ReplayBottom from './ReplayBottom';\r\nimport Score from './Score';\r\n\r\ninterface BottomState {\r\n  mode: string\r\n}\r\n\r\nconst BottomElement = styled.div`\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nconst BottomButtonElement = styled.button`\r\n  all: unset;\r\n  background-color: gray;\r\n  margin-top: 1vh;\r\n  margin-left: 0.25vw;\r\n  margin-right: 0.25vw;\r\n  padding-left: 0.25vw;\r\n  padding-right: 0.25vw;\r\n\r\n  &:hover {\r\n    background-color: #61dafb;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nfunction BottomType(mode: string) {\r\n  const dispatch = useDispatch();\r\n  switch (mode) {\r\n    case 'GAME':\r\n      return (\r\n        <>\r\n          <Score />\r\n          <BottomButtonElement onClick={() => {\r\n            dispatch({ type: 'UNDO' });\r\n          }}>\r\n            Undo\r\n          </BottomButtonElement>\r\n          <BottomButtonElement onClick={() => {\r\n            dispatch({ type: 'RESET' });\r\n          }}>\r\n            Reset\r\n          </BottomButtonElement>\r\n          <BottomButtonElement onClick={() => {\r\n            const status: StoreState = store.getState();\r\n\r\n            const replayData = {\r\n              width: 19,\r\n              height: 19,\r\n              history: status.history\r\n            };\r\n\r\n            const file: HTMLAnchorElement = document.createElement('a');\r\n            const fileBlob: Blob = new Blob([JSON.stringify(replayData)], {type: 'json'});\r\n            file.href = URL.createObjectURL(fileBlob);\r\n            file.download = 'replay.json';\r\n            file.click();\r\n          }}>\r\n            Save As Replay\r\n          </BottomButtonElement>\r\n        </>\r\n      );\r\n    case 'REPLAY':\r\n      return (\r\n        <ReplayBottom />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction Bottom() {\r\n  const selector = (state: StoreState = initState): BottomState => {\r\n    return {\r\n      mode: state.mode\r\n    };\r\n  };\r\n  const status = useSelector(selector);\r\n\r\n  return (\r\n    <BottomElement>\r\n      {BottomType(status.mode)}\r\n    </BottomElement>\r\n  );\r\n}\r\n\r\nexport default Bottom;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nconst ModeChangerElement = styled.div`\r\n  margin-left: 1vw;\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction ModeChanger() {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <ModeChangerElement onChange={(event) => {\r\n      dispatch({\r\n        type: 'MODECHANGE',\r\n        payload: (event.target as HTMLInputElement).value\r\n      });\r\n    }}>\r\n      <input type=\"radio\" id=\"game\" name=\"mode\" value=\"GAME\" defaultChecked />\r\n      <label>Game</label>\r\n      <input type=\"radio\" id=\"replay\" name=\"mode\" value=\"REPLAY\" />\r\n      <label>Replay</label>\r\n    </ModeChangerElement>\r\n  );\r\n}\r\n\r\nexport default ModeChanger;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { initState, StoreState } from '../store/StoreState';\r\n\r\ninterface WinnerEffectState {\r\n  winner: number,\r\n  mode: string\r\n};\r\n\r\nconst WinnerEffectElement = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  animation: WinnerEffectAnimation linear 3000ms;\r\n  animation-iteration-count: 1;\r\n\r\n  @keyframes WinnerEffectAnimation {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    70% {\r\n      opacity: 1;\r\n    }\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WinnerEffectContentElement = styled.div`\r\n  width: inherit;\r\n  height: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bolder;\r\n  animation: WinnerEffectContentAnimation linear 3000ms;\r\n  animation-iteration-count: 1;\r\n\r\n  @keyframes WinnerEffectContentAnimation {\r\n    0% {\r\n      font-size: 0;\r\n    }\r\n    10% {\r\n      text-shadow: 0 0 5vw #61dafb, 0 0 3vw #61dafb, 0 0 1vw #61dafb;\r\n      font-size: 250%;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction WinnerEffect() {\r\n  const selector = (state: StoreState = initState): WinnerEffectState => {\r\n    return {\r\n      winner: state.winner,\r\n      mode: state.mode\r\n    }\r\n  };\r\n  const status = useSelector(selector);\r\n  const renderWinnerEffect = () => {\r\n    if (status.mode === 'GAME' && status.winner !== 0) {\r\n      return (\r\n        <WinnerEffectElement>\r\n          <WinnerEffectContentElement>\r\n            <span>\r\n              Player { status.winner } Wins!\r\n            </span>\r\n          </WinnerEffectContentElement>\r\n        </WinnerEffectElement>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return renderWinnerEffect();\r\n}\r\n\r\nexport default WinnerEffect;\r\n","import React from 'react';\r\nimport Title from './Title';\r\nimport Board from './Board';\r\nimport Bottom from './Bottom';\r\nimport ModeChanger from './ModeChanger';\r\nimport WinnerEffect from './WinnerEffect';\r\nimport { themeTitle } from '../theme/Theme';\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"Main\">\r\n      <Title title={themeTitle} />\r\n      <ModeChanger />\r\n      <Board />\r\n      <Bottom />\r\n      <WinnerEffect />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport './App.css';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store/Store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}