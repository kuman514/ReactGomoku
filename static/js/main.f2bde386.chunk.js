(this["webpackJsonpreact-gomoku"]=this["webpackJsonpreact-gomoku"]||[]).push([[0],{21:function(n,e,t){},22:function(n,e,t){},31:function(n,e,t){"use strict";t.r(e);var r,A=t(0),c=t.n(A),a=t(10),i=t.n(a),o=(t(21),t(22),t(3)),s=t(4),u=t(1),l=s.a.div(r||(r=Object(o.a)(["\n  margin-right: 1vw;\n  & * {\n    display: inline;\n  }\n"])));var d,h=function(n){return Object(u.jsx)(l,{children:n.title})},g=t(2),f=t(6);!function(n){n.LeftTopCorner="LEFT_TOP_CORNER",n.TopEdge="TOP_EDGE",n.RightTopCorner="RIGHT_TOP_CORNER",n.LeftEdge="LEFT_EDGE",n.InBoard="INBOARD",n.RightEdge="RIGHT_EDGE",n.LeftBottomCorner="LEFT_BOTTOM_CORNER",n.BottomEdge="BOTTOM_EDGE",n.RightBottomCorner="RIGHT_BOTTOM_CORNER"}(d||(d={}));var j,b,p,E=[d.LeftTopCorner,d.TopEdge,d.RightTopCorner,d.LeftEdge,d.InBoard,d.RightEdge,d.LeftBottomCorner,d.BottomEdge,d.RightBottomCorner];!function(n){n[n.LeftEdge=0]="LeftEdge",n[n.RightEdge=18]="RightEdge",n[n.TopEdge=0]="TopEdge",n[n.BottomEdge=18]="BottomEdge"}(j||(j={}));var m=(b={},Object(f.a)(b,d.LeftTopCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABqSURBVFhH7dcxEQAhDADB8OaQgJcX8F6QgDr4IhK4IjO3TaBhrkhDW+/YUcSTswRjKcZSjKUYSzGWYizFWIqxFGMppWKRD2P/Zp7uwmL/d/N2jztLMZZiLMVYirEUYynGUoylGEsxlhFxAPU5DGW3NCUgAAAAAElFTkSuQmCC"),Object(f.a)(b,d.TopEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDABBk+UYgV0yQHbJCJkOXHiEfGHpT0LIDfqCxuO7144mrrpbMJZiLMVYirEUYynGUoylGEsxltIqduRpszAi2+183sh3a/qPf5ZiLMVYirEUYynGUoylGEsxlmIsI+IA2V0JZaIQfa0AAAAASUVORK5CYII="),Object(f.a)(b,d.RightTopCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDAVRk+UYgV0yQHbJCJkOXHiEXGHpnoSgvILmj+9eO5q46m7BWIqxFGMpxlKMpRhLMZZiLMVYSqvYkQcZjDlE6/UfZN3O50Vi/bMUYynGUoylGEsxlmIsxViKsRRjGREHMkAK75ERCYcAAAAASUVORK5CYII="),Object(f.a)(b,d.LeftEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDcAwDAXR35ArhHIpgHAJhKJLOgRCbrB0b7G8WLf6+t5n5rC7j/x393ZO27MEYynGUoylGEsxlmIsxViKsRRjKaVisYeR4HdLMZZiLMVYirEUYynGUoylGEsxllIoNlkfKg9lmMQ8rwAAAABJRU5ErkJggg=="),Object(f.a)(b,d.InBoard,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABrSURBVFhH7dexDcAgDABBw3KMkF0yALswAtMlFIzgLyz9SZZFg7512+/zRbIxV5x/7ytPv7sEYynGUoylGEsxlmIsxViKsRRjKaVi25n0g5HidUsxlmIsxViKsRRjKcZSjKUYSzGWUig24gcDTgxl/dAqVwAAAABJRU5ErkJggg=="),Object(f.a)(b,d.RightEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABuSURBVFhH7dfBCcAgEAXR1eZSQnqxAHtJCakuUbCEncPCPBDxInP97R33F8mu+cT697zy9HOXYCzFWIqxFGMpxlKMpRhLMZZiLKVUbFsnfTBuxGB03VKMpRhLMZZiLMVYirEUYynGUoylFIqN+AFcIg3vb7OljwAAAABJRU5ErkJggg=="),Object(f.a)(b,d.LeftBottomCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDYBAEADBB3NIwAsC8IIE1AEFEpiCZKe5fHPZ4pqfzm29xseW/RjP3vf1nfmdv1CsUqxSrFKsUqxSrFKsUqxSrPKrWPZhFEis0s0qxSrFKsUqxSrFKsUqxSrFKsUaY9yR3Axl4EBJtQAAAABJRU5ErkJggg=="),Object(f.a)(b,d.BottomEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dcxDUAhDADR8s0hAS8I+F6QgDpgQEJvILmXENKF3MDSMntbkaz+I867d8rz3fsJxlKMpRhLMZZiLMVYirEUYynGUp6KLeekL4wUZLul+GcpxlKMpRhLMZZiLMVYirEUYynGMiI2dgAJZWqK6D0AAAAASUVORK5CYII="),Object(f.a)(b,d.RightBottomCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABwSURBVFhH7de7CQAhEADR9ZqzBHuxgOvlSrjq/IAl7ATCPBDZRCYw2fL3NiJZfb9Y754pz3PuKxhLMZZiLMVYirEUYynGUoylGEu5Krask74wbsTCiGy3FP8sxViKsRRjKcZSjKUYSzGWYizFWEbEBM7UCu9ULAFPAAAAAElFTkSuQmCC"),b),O=s.a.button(p||(p=Object(o.a)(["\n  all: unset;\n  box-sizing: border-box;\n  margin: 0;\n  background-size: 100%;\n  color: ",";\n  background-image: url(",");\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n\n  &:focus {\n    border: 3px solid red;\n  }\n\n  animation: ",";\n  @keyframes FlashTrackedResult {\n    0% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.3;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"])),(function(n){return n.put?"#000000":"transparent"}),(function(n){return m[n.position]}),(function(n){return n.flash?"FlashTrackedResult linear infinite 600ms":"none"})),y=function(){var n=new Date,e=n.getDate(),t=n.getMonth();return 9===t&&31===e?"halloween":0===t&&1===e||11===t&&25===e?"winter":"default"}(),R={default:["\u26ab","\u26aa"],halloween:["\ud83d\udfe3","\ud83d\udfe0"],winter:["\ud83d\udd34","\ud83d\udfe2"]}[y],U={default:"React Gomoku",halloween:"Halloween Gomoku",winter:"Holiday Gomoku"}[y];var x,w,v=function(n){var e=function(n,e){var t=1;switch(n){case j.TopEdge:t=0;break;case j.BottomEdge:t=2}var r=1;switch(e){case j.LeftEdge:r=0;break;case j.RightEdge:r=2}return E[3*t+r]}(n.row,n.col),t=function(n){switch(n){case 1:case 2:return R[n-1];default:return"\u274c"}}(Object(g.c)((function(e){return e.tiles[n.row][n.col]}))),r=Object(g.c)((function(e){return 0!==e.tiles[n.row][n.col]})),A=!Object(g.c)((function(e){return"GAME"===e.mode&&(0===e.winner&&0===e.tiles[n.row][n.col])})),c=Object(g.c)((function(e){return e.winningTracks.has("[".concat(n.row,",").concat(n.col,"]"))}));return Object(u.jsx)(O,{position:e,put:r,flash:c,disabled:A,onClick:function(){n.onClick(n.row,n.col)},children:t})},S=s.a.div(x||(x=Object(o.a)(["\n  width: 98vw;\n  @media (orientation: landscape) {\n    & {\n      width: 85vh;\n    }\n  }\n"]))),C=s.a.div(w||(w=Object(o.a)(["\n  width: 100%;\n  height: 98vw;\n  display: grid;\n  grid-template-columns: repeat(19, 1fr);\n  grid-template-rows: repeat(19, 1fr);\n  background-color: rgba(202, 138, 85, 0.5);\n  font-size: calc(5px + 2vmin);\n  @media (orientation: landscape) {\n    & {\n      height: 85vh;\n    }\n  }\n"])));var k=function(){var n=Object(g.b)(),e=function(e,t){Number.isNaN(e)||Number.isNaN(t)||n({type:"PUT",payload:[e,t]})};return Object(u.jsx)(S,{children:Object(u.jsx)(C,{children:Array.from({length:19},(function(){return Array.from({length:19})})).map((function(n,t){return n.map((function(n,r){return Object(u.jsx)(v,{row:t,col:r,onClick:e},"r".concat(t,"c").concat(r))}))}))})})};var B,T=function(n){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{type:"radio",id:n.id,name:"mode",value:n.value,defaultChecked:n.defaultChecked}),Object(u.jsx)("label",{children:n.children})]})},F=s.a.div(B||(B=Object(o.a)(["\n  & * {\n    display: inline;\n  }\n"])));var D=function(){var n=Object(g.b)();return Object(u.jsxs)(F,{onChange:function(e){n({type:"MODECHANGE",payload:e.target.value})},children:[Object(u.jsx)(T,{id:"game",value:"GAME",defaultChecked:!0,children:"Game"}),Object(u.jsx)(T,{id:"replay",value:"REPLAY",children:"Replay"})]})},G=t(5),Y=t(16),I={mode:"GAME",tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return 0}))})),curPlayer:1,history:new Array,winner:0,winningTracks:new Set,score:[0,0]},L=t(8),X={player1PutSFX:document.querySelector("#player1PutSFX"),player2PutSFX:document.querySelector("#player2PutSFX"),resetSFX:document.querySelector("#resetSFX"),undoSFX:document.querySelector("#undoSFX"),resultSFX:document.querySelector("#resultSFX")};function Z(n){n.pause(),n.currentTime=0}function M(n){Z(X.player1PutSFX),Z(X.player2PutSFX),Z(X.undoSFX),Z(X.resetSFX),Z(X.resultSFX),n.play()}function P(n){switch(n){case"P1PUT":M(X.player1PutSFX);break;case"P2PUT":M(X.player2PutSFX);break;case"UNDO":M(X.undoSFX);break;case"RESET":M(X.resetSFX);break;case"RESULT":M(X.resultSFX)}}function Q(n,e){return!(n<0||n>18||e<0||e>18)}function K(n,e,t,r){var A=Array.from({length:19},(function(e,t){return Array.from(n.tiles[t])}));return A[e][t]=r,A}function N(n){switch(n){case 1:return 2;case 2:return 1;default:return 0}}function V(n,e,t){if(0!==n.tiles[e][t])return n;var r=K(n,e,t,n.curPlayer),A=N(n.curPlayer),c=function(n,e,t){for(var r=t[n][e],A=[[1,0],[0,1],[1,1],[1,-1]],c=0;c<A.length;c++){for(var a=Object(L.a)(A[c],2),i=a[0],o=a[1],s=[[n,e]],u=n+i,l=e+o;Q(u,l)&&t[u][l]===r;)s.push([u,l]),u+=i,l+=o;for(u=n-i,l=e-o;Q(u,l)&&t[u][l]===r;)s.push([u,l]),u-=i,l-=o;if(5===s.length)return[r,s]}return[0,[]]}(e,t,r),a=Object(L.a)(c,2),i=a[0],o=a[1],s=Array.from(n.history);s.push([e,t]);var u=Array.from(n.score);return 0!==i?(P("RESULT"),"GAME"===n.mode&&u[i-1]++):P("P".concat(n.curPlayer,"PUT")),Object(G.a)(Object(G.a)({},n),{},{tiles:r,curPlayer:A,history:s,winner:i,winningTracks:new Set(o.map((function(n){return"[".concat(n[0],",").concat(n[1],"]")}))),score:u})}function H(n){if(0===n.history.length)return n;var e=Array.from(n.history),t=e.pop();if(void 0===t)return n;var r=Object(L.a)(t,2),A=r[0],c=r[1];if(!Q(A,c))return n;var a=K(n,A,c,0),i=N(n.curPlayer);return P("UNDO"),Object(G.a)(Object(G.a)({},n),{},{tiles:a,curPlayer:i,history:e,winner:0,winningTracks:new Set})}function J(n){return P("RESET"),Object(G.a)(Object(G.a)({},n),{},{tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return 0}))})),curPlayer:1,history:Array(),winner:0,winningTracks:new Set})}function q(n){switch(n){case"GAME":case"REPLAY":return!0;default:return!1}}var z,W=Object(Y.a)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PUT":return V(n,e.payload[0],e.payload[1]);case"UNDO":return H(n);case"RESET":return J(n);case"MODECHANGE":return Object(G.a)(Object(G.a)({},J(n)),{},{mode:q(e.payload)?e.payload:n.mode});default:return n}})),_=s.a.div(z||(z=Object(o.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"])));var $,nn=function(){var n=Object(g.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return{p1Score:n.score[0],p2Score:n.score[1]}}));return Object(A.useEffect)((function(){document.title="React Gomoku :: ".concat(n.p1Score," - ").concat(n.p2Score)})),Object(u.jsx)(_,{children:Object(u.jsxs)("span",{children:[n.p1Score," - ",n.p2Score]})})},en=s.a.button($||($=Object(o.a)(["\n  all: unset;\n  background-color: gray;\n  margin-top: 1vh;\n  margin-left: 0.25vw;\n  margin-right: 0.25vw;\n  padding-left: 0.25vw;\n  padding-right: 0.25vw;\n\n  &:hover {\n    background-color: #61dafb;\n    cursor: pointer;\n  }\n"])));var tn,rn,An=function(){var n=Object(g.b)(),e=Object(A.useState)({history:Array(),curTrack:0,maxTrack:0}),t=Object(L.a)(e,2),r=t[0],c=t[1];return Object(A.useEffect)((function(){document.title="React Gomoku :: Replay Mode - ".concat(r.curTrack," / ").concat(r.maxTrack)})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:"Replay File: "}),Object(u.jsx)("input",{type:"file",accept:"application/json",onChange:function(e){e.target.files&&function(e){if(!(e.length<=0)){var t=new FileReader;t.addEventListener("load",(function(){var e=JSON.parse(t.result);19===e.width&&19===e.height&&null!==e.history&&void 0!==e.history&&(n({type:"RESET"}),c({history:e.history,curTrack:0,maxTrack:e.history.length}))})),t.readAsText(e[0])}}(e.target.files)}}),Object(u.jsx)(en,{onClick:function(){r.curTrack<=0||(n({type:"UNDO"}),c({history:r.history,curTrack:r.curTrack-1,maxTrack:r.history.length}))},children:"Prev"}),"".concat(r.curTrack," / ").concat(r.maxTrack),Object(u.jsx)(en,{onClick:function(){r.curTrack>=r.maxTrack||(n({type:"PUT",payload:r.history[r.curTrack]}),c({history:r.history,curTrack:r.curTrack+1,maxTrack:r.history.length}))},children:"Next"})]})},cn=s.a.div(tn||(tn=Object(o.a)(["\n  & * {\n    display: inline;\n  }\n"]))),an=s.a.button(rn||(rn=Object(o.a)(["\n  all: unset;\n  background-color: gray;\n  margin-top: 1vh;\n  margin-left: 0.25vw;\n  margin-right: 0.25vw;\n  padding-left: 0.25vw;\n  padding-right: 0.25vw;\n\n  &:hover {\n    background-color: #61dafb;\n    cursor: pointer;\n  }\n"])));function on(n){var e=Object(g.b)();switch(n){case"GAME":return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(nn,{}),Object(u.jsx)(an,{onClick:function(){e({type:"UNDO"})},children:"Undo"}),Object(u.jsx)(an,{onClick:function(){e({type:"RESET"})},children:"Reset"}),Object(u.jsx)(an,{onClick:function(){var n={width:19,height:19,history:W.getState().history},e=document.createElement("a"),t=new Blob([JSON.stringify(n)],{type:"json"});e.href=URL.createObjectURL(t),e.download="replay.json",e.click()},children:"Save As Replay"})]});case"REPLAY":return Object(u.jsx)(An,{});default:return null}}var sn,un,ln=function(){var n=Object(g.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return{mode:n.mode}}));return Object(u.jsx)(cn,{children:on(n.mode)})},dn=s.a.div(sn||(sn=Object(o.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  animation: WinnerEffectAnimation linear 3000ms;\n  animation-iteration-count: 1;\n\n  @keyframes WinnerEffectAnimation {\n    0% {\n      opacity: 1;\n    }\n    70% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"]))),hn=s.a.div(un||(un=Object(o.a)(["\n  width: inherit;\n  height: inherit;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  animation: WinnerEffectContentAnimation linear 3000ms;\n  animation-iteration-count: 1;\n\n  @keyframes WinnerEffectContentAnimation {\n    0% {\n      font-size: 0;\n    }\n    10% {\n      text-shadow: 0 0 5vw #61dafb, 0 0 3vw #61dafb, 0 0 1vw #61dafb;\n      font-size: 250%;\n    }\n  }\n"])));var gn=function(){var n=Object(g.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return{winner:n.winner,mode:n.mode}}));return"GAME"===n.mode&&0!==n.winner?Object(u.jsx)(dn,{children:Object(u.jsx)(hn,{children:Object(u.jsxs)("span",{children:["Player ",n.winner," Wins!"]})})}):null};var fn=function(){return Object(u.jsxs)("main",{className:"Main",children:[Object(u.jsx)(h,{title:U}),Object(u.jsx)(D,{}),Object(u.jsx)(k,{}),Object(u.jsx)(ln,{}),Object(u.jsx)(gn,{})]})};var jn=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(fn,{})})},bn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,32)).then((function(e){var t=e.getCLS,r=e.getFID,A=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),r(n),A(n),c(n),a(n)}))};i.a.render(Object(u.jsx)(g.a,{store:W,children:Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(jn,{})})}),document.getElementById("root")),bn()}},[[31,1,2]]]);
//# sourceMappingURL=main.f2bde386.chunk.js.map