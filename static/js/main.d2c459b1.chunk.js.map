{"version":3,"sources":["components/atoms/Title/index.tsx","types.ts","components/atoms/BoardButton/index.tsx","Img/LeftTopCorner.png","Img/TopEdge.png","Img/RightTopCorner.png","Img/LeftEdge.png","Img/InBoard.png","Img/RightEdge.png","Img/LeftBottomCorner.png","Img/BottomEdge.png","Img/RightBottomCorner.png","theme/Theme.tsx","components/molecules/BoardTile/index.tsx","components/organisms/Board/index.tsx","components/molecules/ModeSelector/index.tsx","components/organisms/ModeChanger/index.tsx","components/molecules/ReplayBottom/index.tsx","store/StoreState.tsx","sfxs/SoundEffects.tsx","store/StoreProcess.tsx","store/Store.tsx","components/atoms/BottomButtonElement/index.tsx","components/atoms/Score/index.tsx","components/molecules/GameBottom/index.tsx","components/organisms/Bottom/index.tsx","components/molecules/WinnerEffect/index.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TitleElement","styled","div","Title","ButtonPosition","title","Edges","AppMode","Player","ButtonPositionIndex","LeftTopCorner","TopEdge","RightTopCorner","LeftEdge","InBoard","RightEdge","LeftBottomCorner","BottomEdge","RightBottomCorner","urls","T","BoardButton","button","put","position","flash","THEME_INDEX","dat","Date","day","getDate","month","getMonth","themeButtons","default","halloween","winter","themeTitle","BoardTile","row","col","onClick","finalRow","finalCol","getPosition","stone","who","PLAYER1","PLAYER2","getStone","useSelector","state","tiles","isPut","NONE","isDisabled","mode","GAME","winner","isTracked","winningTracks","has","disabled","BoardElement","TilesElement","Board","dispatch","useDispatch","onClickButton","Number","isNaN","type","payload","Array","from","length","map","line","i","_","j","ModeSelector","id","value","children","defaultChecked","name","ModeChangerElement","ModeChanger","onChange","event","target","REPLAY","BottomButtonElement","ReplayBottom","useState","history","curTrack","maxTrack","status","setStatus","useEffect","document","accept","files","reader","FileReader","addEventListener","result","JSON","parse","width","height","undefined","readAsText","loadReplay","initState","curPlayer","Set","score","SFXs","player1PutSFX","querySelector","player2PutSFX","resetSFX","undoSFX","resultSFX","stopSFX","wav","pause","currentTime","playWav","play","playSFX","wavName","isInRange","HEIGHT","WIDTH","getNewTiles","player","newTiles","getNewPlayer","putStone","newPlayer","directions","n","rDir","cDir","collected","curRow","curCol","push","checkWinner","newHistory","newScore","item","undo","tmp","pop","resetBoard","isAvailableMode","modeName","store","createStore","action","ScoreElement","Score","p1Score","p2Score","GameBottom","replayData","getState","file","createElement","fileBlob","Blob","stringify","href","URL","createObjectURL","download","click","BottomElement","BottomType","Bottom","WinnerEffectElement","WinnerEffectContentElement","WinnerEffect","Main","className","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d2c459b1.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface TitleProps {\r\n  readonly title: string\r\n}\r\n\r\nconst TitleElement = styled.div`\r\n  margin-right: 1vw;\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction Title({ title }: TitleProps) {\r\n  return (\r\n    <TitleElement>\r\n      { title }\r\n    </TitleElement>\r\n  );\r\n}\r\n\r\nexport default Title;\r\n","export enum ButtonPosition {\r\n  LeftTopCorner = 'LEFT_TOP_CORNER',\r\n  TopEdge = 'TOP_EDGE',\r\n  RightTopCorner = 'RIGHT_TOP_CORNER',\r\n  LeftEdge = 'LEFT_EDGE',\r\n  InBoard = 'INBOARD',\r\n  RightEdge = 'RIGHT_EDGE',\r\n  LeftBottomCorner = 'LEFT_BOTTOM_CORNER',\r\n  BottomEdge = 'BOTTOM_EDGE',\r\n  RightBottomCorner = 'RIGHT_BOTTOM_CORNER',\r\n};\r\n\r\nexport const ButtonPositionIndex = [\r\n  ButtonPosition.LeftTopCorner,\r\n  ButtonPosition.TopEdge,\r\n  ButtonPosition.RightTopCorner,\r\n  ButtonPosition.LeftEdge,\r\n  ButtonPosition.InBoard,\r\n  ButtonPosition.RightEdge,\r\n  ButtonPosition.LeftBottomCorner,\r\n  ButtonPosition.BottomEdge,\r\n  ButtonPosition.RightBottomCorner,\r\n];\r\n\r\nexport type ButtonBackgroundUrls = Record<ButtonPosition, string>;\r\n\r\nexport enum Edges {\r\n  LeftEdge = 0,\r\n  RightEdge = 18,\r\n  TopEdge = 0,\r\n  BottomEdge = 18,\r\n};\r\n\r\nexport enum AppMode {\r\n  GAME = 'GAME',\r\n  REPLAY = 'REPLAY',\r\n};\r\n\r\nexport enum Player {\r\n  NONE = 0,\r\n  PLAYER1 = 1,\r\n  PLAYER2 = 2,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nimport LeftTopCorner from 'Img/LeftTopCorner.png';\r\nimport TopEdge from 'Img/TopEdge.png';\r\nimport RightTopCorner from 'Img/RightTopCorner.png';\r\nimport LeftEdge from 'Img/LeftEdge.png';\r\nimport InBoard from 'Img/InBoard.png';\r\nimport RightEdge from 'Img/RightEdge.png';\r\nimport LeftBottomCorner from 'Img/LeftBottomCorner.png';\r\nimport BottomEdge from 'Img/BottomEdge.png';\r\nimport RightBottomCorner from 'Img/RightBottomCorner.png';\r\n\r\nimport * as T from 'types';\r\n\r\ninterface BoardButtonStyleProps {\r\n  readonly position: T.ButtonPosition;\r\n  readonly put?: boolean;\r\n  readonly flash?: boolean;\r\n}\r\n\r\nexport const urls: T.ButtonBackgroundUrls = {\r\n  [T.ButtonPosition.LeftTopCorner]: LeftTopCorner,\r\n  [T.ButtonPosition.TopEdge]: TopEdge,\r\n  [T.ButtonPosition.RightTopCorner]: RightTopCorner,\r\n  [T.ButtonPosition.LeftEdge]: LeftEdge,\r\n  [T.ButtonPosition.InBoard]: InBoard,\r\n  [T.ButtonPosition.RightEdge]: RightEdge,\r\n  [T.ButtonPosition.LeftBottomCorner]: LeftBottomCorner,\r\n  [T.ButtonPosition.BottomEdge]: BottomEdge,\r\n  [T.ButtonPosition.RightBottomCorner]: RightBottomCorner,\r\n};\r\n\r\nconst BoardButton = styled.button`\r\n  all: unset;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  background-size: 100%;\r\n  color: ${({ put }: BoardButtonStyleProps) => put ? '#000000' : 'transparent'};\r\n  background-image: url(${({ position }: BoardButtonStyleProps) => urls[position]});\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  &:focus {\r\n    border: 3px solid red;\r\n  }\r\n\r\n  animation: ${({ flash }: BoardButtonStyleProps) => flash\r\n    ? 'FlashTrackedResult linear infinite 600ms'\r\n    : 'none'\r\n  };\r\n  @keyframes FlashTrackedResult {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      opacity: 0.3;\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default BoardButton;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABqSURBVFhH7dcxEQAhDADB8OaQgJcX8F6QgDr4IhK4IjO3TaBhrkhDW+/YUcSTswRjKcZSjKUYSzGWYizFWIqxFGMppWKRD2P/Zp7uwmL/d/N2jztLMZZiLMVYirEUYynGUoylGEsxlhFxAPU5DGW3NCUgAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDABBk+UYgV0yQHbJCJkOXHiEfGHpT0LIDfqCxuO7144mrrpbMJZiLMVYirEUYynGUoylGEsxltIqduRpszAi2+183sh3a/qPf5ZiLMVYirEUYynGUoylGEsxlmIsI+IA2V0JZaIQfa0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDAVRk+UYgV0yQHbJCJkOXHiEXGHpnoSgvILmj+9eO5q46m7BWIqxFGMpxlKMpRhLMZZiLMVYSqvYkQcZjDlE6/UfZN3O50Vi/bMUYynGUoylGEsxlmIsxViKsRRjGREHMkAK75ERCYcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDcAwDAXR35ArhHIpgHAJhKJLOgRCbrB0b7G8WLf6+t5n5rC7j/x393ZO27MEYynGUoylGEsxlmIsxViKsRRjKaVisYeR4HdLMZZiLMVYirEUYynGUoylGEsxllIoNlkfKg9lmMQ8rwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABrSURBVFhH7dexDcAgDABBw3KMkF0yALswAtMlFIzgLyz9SZZFg7512+/zRbIxV5x/7ytPv7sEYynGUoylGEsxlmIsxViKsRRjKaVi25n0g5HidUsxlmIsxViKsRRjKcZSjKUYSzGWUig24gcDTgxl/dAqVwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABuSURBVFhH7dfBCcAgEAXR1eZSQnqxAHtJCakuUbCEncPCPBDxInP97R33F8mu+cT697zy9HOXYCzFWIqxFGMpxlKMpRhLMZZiLKVUbFsnfTBuxGB03VKMpRhLMZZiLMVYirEUYynGUoylFIqN+AFcIg3vb7OljwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDYBAEADBB3NIwAsC8IIE1AEFEpiCZKe5fHPZ4pqfzm29xseW/RjP3vf1nfmdv1CsUqxSrFKsUqxSrFKsUqxSrPKrWPZhFEis0s0qxSrFKsUqxSrFKsUqxSrFKsUaY9yR3Axl4EBJtQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dcxDUAhDADR8s0hAS8I+F6QgDpgQEJvILmXENKF3MDSMntbkaz+I867d8rz3fsJxlKMpRhLMZZiLMVYirEUYynGUp6KLeekL4wUZLul+GcpxlKMpRhLMZZiLMVYirEUYynGMiI2dgAJZWqK6D0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABwSURBVFhH7de7CQAhEADR9ZqzBHuxgOvlSrjq/IAl7ATCPBDZRCYw2fL3NiJZfb9Y754pz3PuKxhLMZZiLMVYirEUYynGUoylGEu5Krask74wbsTCiGy3FP8sxViKsRRjKcZSjKUYSzGWYizFWEbEBM7UCu9ULAFPAAAAAElFTkSuQmCC\"","const THEME_BUTTONS = {\r\n  default: ['⚫', '⚪'],\r\n  halloween: ['🟣', '🟠'],\r\n  winter: ['🔴', '🟢'],\r\n};\r\n\r\nconst THEME_TITLES = {\r\n  default: 'React Gomoku',\r\n  halloween: 'Halloween Gomoku',\r\n  winter: 'Holiday Gomoku'\r\n};\r\n\r\nconst THEME_INDEX = (() => {\r\n  const dat: Date = new Date();\r\n\r\n  const day: number = dat.getDate();\r\n  const month: number = dat.getMonth();\r\n\r\n  if (month === 9 && day === 31) {\r\n    // October 31\r\n    return 'halloween';\r\n  } else if ((month === 0 && day === 1) || (month === 11 && day === 25)) {\r\n    // January 1 or December 25\r\n    return 'winter';\r\n  }\r\n\r\n  return 'default';\r\n})();\r\n\r\nexport const themeButtons: string[] = THEME_BUTTONS[THEME_INDEX];\r\nexport const themeTitle: string = THEME_TITLES[THEME_INDEX];\r\n","import BoardButton from 'components/atoms/BoardButton';\r\nimport { themeButtons } from 'theme/Theme';\r\n\r\nimport * as T from 'types';\r\nimport { StoreState } from 'store/StoreState';\r\nimport { useSelector } from 'react-redux';\r\n\r\ninterface BoardTileProps {\r\n  readonly row: number;\r\n  readonly col: number;\r\n  readonly onClick: (row: number, col: number) => void;\r\n}\r\n\r\nconst getPosition: (row: number, col: number) => T.ButtonPosition = (row, col) => {\r\n  let finalRow: number = 1;\r\n  switch (row) {\r\n    case T.Edges.TopEdge:\r\n      finalRow = 0;\r\n      break;\r\n    case T.Edges.BottomEdge:\r\n      finalRow = 2;\r\n      break;\r\n  }\r\n\r\n  let finalCol: number = 1;\r\n  switch (col) {\r\n    case T.Edges.LeftEdge:\r\n      finalCol = 0;\r\n      break;\r\n    case T.Edges.RightEdge:\r\n      finalCol = 2;\r\n      break;\r\n  }\r\n\r\n  const finalIndex = finalRow * 3 + finalCol;\r\n  return T.ButtonPositionIndex[finalIndex];\r\n}\r\n\r\nconst getStone: (who?: T.Player) => string = (who) => {\r\n  switch (who) {\r\n    case T.Player.PLAYER1: case T.Player.PLAYER2:\r\n      return themeButtons[who - 1];\r\n    default:\r\n      return '❌';\r\n  }\r\n};\r\n\r\nfunction BoardTile({ row, col, onClick }: BoardTileProps) {\r\n  const position: T.ButtonPosition = getPosition(row, col);\r\n\r\n  const whoPutSelector: (state: StoreState) => T.Player = (state) => {\r\n    return state.tiles[row][col];\r\n  };\r\n  const whoPut: T.Player = useSelector(whoPutSelector);\r\n  const stone: string = getStone(whoPut);\r\n\r\n  const isPutSelector: (state: StoreState) => boolean = (state) => {\r\n    if (state.tiles[row][col] === T.Player.NONE) return false;\r\n\r\n    return true;\r\n  };\r\n  const isPut: boolean = useSelector(isPutSelector);\r\n\r\n  const isAvailableSelector: (state: StoreState) => boolean = (state) => {\r\n    if (state.mode !== T.AppMode.GAME) return false;\r\n\r\n    if (state.winner !== T.Player.NONE) return false;\r\n\r\n    if (state.tiles[row][col] !== T.Player.NONE) return false;\r\n\r\n    return true;\r\n  };\r\n  const isAvailable: boolean = useSelector(isAvailableSelector);\r\n  const isDisabled: boolean = !isAvailable;\r\n\r\n  const isTrackedSelector: (state: StoreState) => boolean = (state) => {\r\n    return state.winningTracks.has(`[${row},${col}]`);\r\n  };\r\n  const isTracked: boolean = useSelector(isTrackedSelector);\r\n\r\n  const onClickTile: () => void = () => {\r\n    onClick(row, col);\r\n  };\r\n\r\n  return (\r\n    <BoardButton\r\n      position={position}\r\n      put={isPut}\r\n      flash={isTracked}\r\n      disabled={isDisabled}\r\n      onClick={onClickTile}\r\n    >\r\n      { stone }\r\n    </BoardButton>\r\n  );\r\n}\r\n\r\nexport default BoardTile;\r\n","import { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport BoardTile from 'components/molecules/BoardTile';\r\n\r\nconst BoardElement = styled.div`\r\n  width: 98vw;\r\n  @media (orientation: landscape) {\r\n    & {\r\n      width: 85vh;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TilesElement = styled.div`\r\n  width: 100%;\r\n  height: 98vw;\r\n  display: grid;\r\n  grid-template-columns: repeat(19, 1fr);\r\n  grid-template-rows: repeat(19, 1fr);\r\n  background-color: rgba(202, 138, 85, 0.5);\r\n  font-size: calc(5px + 2vmin);\r\n  @media (orientation: landscape) {\r\n    & {\r\n      height: 85vh;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Board() {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClickButton: (row: number, col: number) => void = (row, col) => {\r\n    if (Number.isNaN(row) || Number.isNaN(col)) return;\r\n\r\n    dispatch({\r\n      type: 'PUT',\r\n      payload: [row, col],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <BoardElement>\r\n      <TilesElement>\r\n        {\r\n          Array.from({length: 19}, () => Array.from({length: 19}))\r\n            .map((line, i) => {\r\n              return line.map((_, j) => {\r\n                return (\r\n                  <BoardTile\r\n                    key={`r${i}c${j}`}\r\n                    row={i}\r\n                    col={j}\r\n                    onClick={onClickButton}\r\n                  />\r\n                );\r\n              });\r\n            })\r\n        }\r\n      </TilesElement>\r\n    </BoardElement>\r\n  );\r\n}\r\n\r\nexport default Board;\r\n","import { AppMode } from 'types';\r\n\r\ninterface ModeSelectorProps {\r\n  readonly id: string;\r\n  readonly value: AppMode;\r\n  readonly children?: string | JSX.Element;\r\n  readonly defaultChecked?: boolean;\r\n}\r\n\r\nfunction ModeSelector({ id, value, children, defaultChecked }: ModeSelectorProps) {\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"radio\"\r\n        id={id}\r\n        name=\"mode\"\r\n        value={value}\r\n        defaultChecked={defaultChecked}\r\n      />\r\n      <label>\r\n        { children }\r\n      </label>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ModeSelector;\r\n","import React, { ChangeEvent } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport ModeSelector from 'components/molecules/ModeSelector';\r\nimport { AppMode } from 'types';\r\n\r\nconst ModeChangerElement = styled.div`\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction ModeChanger() {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <ModeChangerElement onChange={(event: ChangeEvent<HTMLInputElement>) => {\r\n      dispatch({\r\n        type: 'MODECHANGE',\r\n        payload: event.target.value\r\n      });\r\n    }}>\r\n      <ModeSelector\r\n        id='game'\r\n        value={AppMode.GAME}\r\n        defaultChecked\r\n      >\r\n        Game\r\n      </ModeSelector>\r\n      <ModeSelector\r\n        id='replay'\r\n        value={AppMode.REPLAY}\r\n      >\r\n        Replay\r\n      </ModeSelector>\r\n    </ModeChangerElement>\r\n  );\r\n}\r\n\r\nexport default ModeChanger;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nconst BottomButtonElement = styled.button`\r\n  all: unset;\r\n  background-color: gray;\r\n  margin-top: 1vh;\r\n  margin-left: 0.25vw;\r\n  margin-right: 0.25vw;\r\n  padding-left: 0.25vw;\r\n  padding-right: 0.25vw;\r\n\r\n  &:hover {\r\n    background-color: #61dafb;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nfunction ReplayBottom() {\r\n  const dispatch = useDispatch();\r\n  const [status, setStatus] = useState({\r\n    history: Array<number[]>(),\r\n    curTrack: 0,\r\n    maxTrack: 0\r\n  });\r\n\r\n  const loadReplay = (files: FileList): void => {\r\n    if (files.length <= 0) {\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => {\r\n      const result = JSON.parse(reader.result as string);\r\n\r\n      if (result.width !== 19 || result.height !== 19) {\r\n        return;\r\n      }\r\n\r\n      if (result.history === null || result.history === undefined) {\r\n        return;\r\n      }\r\n\r\n      dispatch({ type: 'RESET' });\r\n      setStatus({\r\n        history: result.history,\r\n        curTrack: 0,\r\n        maxTrack: result.history.length\r\n      });\r\n    });\r\n\r\n    reader.readAsText(files[0]);\r\n  };\r\n\r\n  const onClickPrev = (): void => {\r\n    if (status.curTrack <= 0) {\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'UNDO' });\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack - 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  const onClickNext = () => {\r\n    if (status.curTrack >= status.maxTrack) {\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      type: 'PUT',\r\n      payload: status.history[status.curTrack]\r\n    });\r\n\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack + 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = `React Gomoku :: Replay Mode - ${status.curTrack} / ${status.maxTrack}`;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <label>Replay File: </label>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"application/json\"\r\n        onChange={(event) => {\r\n          if ((event.target as HTMLInputElement).files) {\r\n            loadReplay((event.target as HTMLInputElement).files as FileList);\r\n          }\r\n        }\r\n      }/>\r\n      <BottomButtonElement onClick={onClickPrev}>\r\n        Prev\r\n      </BottomButtonElement>\r\n      {\r\n        `${status.curTrack} / ${status.maxTrack}`\r\n      }\r\n      <BottomButtonElement onClick={onClickNext}>\r\n        Next\r\n      </BottomButtonElement>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ReplayBottom;\r\n","import { AppMode, Player } from 'types';\r\n\r\nexport interface StoreState {\r\n  mode: AppMode,\r\n  tiles: Player[][],\r\n  curPlayer: Player,\r\n  history: number[][],\r\n  winner: Player,\r\n  winningTracks: Set<string>,\r\n  score: number[]\r\n};\r\n\r\nexport const initState: StoreState = {\r\n  mode: AppMode.GAME,\r\n  tiles: Array.from({length: 19}, () => Array.from({length: 19}, () => Player.NONE)),\r\n  curPlayer: Player.PLAYER1,\r\n  history: new Array<number[]>(),\r\n  winner: Player.NONE,\r\n  winningTracks: new Set<string>(),\r\n  score: [0, 0]\r\n};\r\n","const SFXs = {\r\n  player1PutSFX: document.querySelector('#player1PutSFX'),\r\n  player2PutSFX: document.querySelector('#player2PutSFX'),\r\n  resetSFX: document.querySelector('#resetSFX'),\r\n  undoSFX: document.querySelector('#undoSFX'),\r\n  resultSFX: document.querySelector('#resultSFX')\r\n}\r\n\r\nfunction stopSFX(wav: Element | null): void {\r\n  (wav as HTMLAudioElement).pause();\r\n  (wav as HTMLAudioElement).currentTime = 0;\r\n}\r\n\r\nfunction initSFX(): void {\r\n  stopSFX(SFXs.player1PutSFX);\r\n  stopSFX(SFXs.player2PutSFX);\r\n  stopSFX(SFXs.undoSFX);\r\n  stopSFX(SFXs.resetSFX);\r\n  stopSFX(SFXs.resultSFX);\r\n}\r\n\r\nfunction playWav(wav: Element | null): void {\r\n  initSFX();\r\n  (wav as HTMLAudioElement).play();\r\n}\r\n\r\nexport function playSFX(wavName: string): void {\r\n  switch (wavName) {\r\n    case 'P1PUT':\r\n      playWav(SFXs.player1PutSFX);\r\n      break;\r\n    case 'P2PUT':\r\n      playWav(SFXs.player2PutSFX);\r\n      break;\r\n    case 'UNDO':\r\n      playWav(SFXs.undoSFX);\r\n      break;\r\n    case 'RESET':\r\n      playWav(SFXs.resetSFX);\r\n      break;\r\n    case 'RESULT':\r\n      playWav(SFXs.resultSFX);\r\n      break;     \r\n  }\r\n}\r\n","import { StoreState } from './StoreState';\r\nimport { playSFX } from '../sfxs/SoundEffects';\r\nimport { AppMode, Player } from 'types';\r\n\r\nconst EMPTY: number = 0;\r\nconst WIDTH: number = 19;\r\nconst HEIGHT: number = 19;\r\nconst OBJECTIVE: number = 5;\r\nconst COL_BOUNDARY: number = WIDTH - 1;\r\nconst ROW_BOUNDARY: number = HEIGHT - 1;\r\n\r\nfunction isInRange(row: number, col: number): boolean {\r\n  if (row < 0 || row > ROW_BOUNDARY || col < 0 || col > COL_BOUNDARY) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nfunction getNewTiles(status: StoreState, row: number, col: number, player: Player): Player[][] {\r\n  const newTiles = Array.from({length: HEIGHT}, (_, i) => Array.from(status.tiles[i]));\r\n  newTiles[row][col] = player;\r\n  return newTiles;\r\n};\r\n\r\nfunction getNewPlayer(curPlayer: Player): Player {\r\n  switch (curPlayer) {\r\n    case Player.PLAYER1:\r\n      return Player.PLAYER2;\r\n    case Player.PLAYER2:\r\n      return Player.PLAYER1;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nfunction checkWinner(row: number, col: number, newTiles: Player[][]): [Player, number[][]] {\r\n  const winner: Player = newTiles[row][col];\r\n\r\n  const directions: number[][] = [[1, 0], [0, 1], [1, 1], [1, -1]];\r\n  for (let n: number = 0; n < directions.length; n++) {\r\n    const [rDir, cDir] = directions[n];\r\n    const collected: number[][] = [[row, col]];\r\n\r\n    let [curRow, curCol] = [row + rDir, col + cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow += rDir;\r\n      curCol += cDir;\r\n    }\r\n\r\n    [curRow, curCol] = [row - rDir, col - cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow -= rDir;\r\n      curCol -= cDir;\r\n    }\r\n\r\n    if (collected.length === OBJECTIVE) {\r\n      return [winner, collected];\r\n    }\r\n  }\r\n\r\n  return [Player.NONE, []];\r\n};\r\n\r\nexport function putStone(status: StoreState, row: number, col: number): StoreState {\r\n  if (status.tiles[row][col] !== Player.NONE) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: Player[][] = getNewTiles(status, row, col, status.curPlayer);\r\n  const newPlayer: Player = getNewPlayer(status.curPlayer);\r\n\r\n  const [winner, winningTracks] = checkWinner(row, col, newTiles);\r\n\r\n  const newHistory = Array.from(status.history);\r\n  newHistory.push([row, col]);\r\n\r\n  const newScore = Array.from(status.score);\r\n\r\n  if (winner !== 0) {\r\n    playSFX('RESULT');\r\n    if (status.mode === AppMode.GAME) {\r\n      newScore[winner - 1]++;\r\n    }\r\n  } else {\r\n    playSFX(`P${status.curPlayer}PUT`);\r\n  }\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: winner,\r\n    winningTracks: new Set<string>(\r\n      winningTracks.map((item) => `[${item[0]},${item[1]}]`)\r\n    ),\r\n    score: newScore\r\n  };\r\n};\r\n\r\nexport function undo(status: StoreState): StoreState {\r\n  if (status.history.length === 0) {\r\n    return status;\r\n  }\r\n\r\n  const newHistory = Array.from(status.history);\r\n  const tmp: number[] | undefined = newHistory.pop();\r\n\r\n  if (tmp === undefined) {\r\n    return status;\r\n  }\r\n\r\n  const [row, col] = tmp;\r\n  if (!isInRange(row, col)) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: Player[][] = getNewTiles(status, row, col, EMPTY);\r\n  const newPlayer: Player = getNewPlayer(status.curPlayer);\r\n\r\n  playSFX('UNDO');\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: EMPTY,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function resetBoard(status: StoreState): StoreState {\r\n  playSFX('RESET');\r\n\r\n  return {\r\n    ...status,\r\n    tiles: Array.from({length: HEIGHT}, () => Array.from({length: WIDTH}, () => Player.NONE)),\r\n    curPlayer: Player.PLAYER1,\r\n    history: Array<number[]>(),\r\n    winner: Player.NONE,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function isAvailableMode(modeName: string) {\r\n  switch (modeName) {\r\n    case AppMode.GAME: case AppMode.REPLAY:\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport { StoreState, initState } from './StoreState';\r\nimport { StoreActions } from './StoreActions';\r\nimport {\r\n  putStone,\r\n  undo,\r\n  resetBoard,\r\n  isAvailableMode\r\n} from './StoreProcess';\r\n\r\nexport const store = createStore((state: StoreState = initState, action: StoreActions) => {\r\n  /*\r\n    1. PUT TYPE ACTION (coords: [row, col])\r\n      - Put a tile into new coords\r\n      - Push coords as an element in history\r\n      - Check winner and winningTracks\r\n      - Switch player\r\n    2. UNDO TYPE ACTION\r\n      - If there's no history, stop this process\r\n      - Clear a tile in coords of the top element in history\r\n      - Pop the top element in history\r\n      - Switch player\r\n      - Revoke winner and winningTracks\r\n    3. RESET TYPE ACTION - Resets the whole board\r\n      - Clear all the tiles\r\n      - Set curPlayer to 1\r\n      - Clear history\r\n      - Set winner to 0\r\n      - Clear winningTracks\r\n    4. MODECHANGE TYPE ACTION (mode: AppMode)\r\n      - Mode change resets the whole board\r\n  */\r\n  switch (action.type) {\r\n    case 'PUT':\r\n      return putStone(state, action.payload[0], action.payload[1]);\r\n    case 'UNDO':\r\n      return undo(state);\r\n    case 'RESET':\r\n      return resetBoard(state);\r\n    case 'MODECHANGE':\r\n      return {\r\n        ...resetBoard(state),\r\n        mode: isAvailableMode(action.payload) ? action.payload : state.mode\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n});\r\n","import styled from 'styled-components';\r\n\r\nconst BottomButtonElement = styled.button`\r\n  all: unset;\r\n  background-color: gray;\r\n  margin-top: 1vh;\r\n  margin-left: 0.25vw;\r\n  margin-right: 0.25vw;\r\n  padding-left: 0.25vw;\r\n  padding-right: 0.25vw;\r\n\r\n  &:hover {\r\n    background-color: #61dafb;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default BottomButtonElement;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { initState, StoreState } from 'store/StoreState';\r\n\r\nconst ScoreElement = styled.div`\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nfunction Score() {\r\n  const p1ScoreSelector = ({ score }: StoreState = initState) => (score[0]);\r\n  const p1Score = useSelector(p1ScoreSelector);\r\n\r\n  const p2ScoreSelector = ({ score }: StoreState = initState) => (score[1]);\r\n  const p2Score = useSelector(p2ScoreSelector);\r\n\r\n  useEffect(() => {\r\n    document.title = `React Gomoku :: ${p1Score} - ${p2Score}`;\r\n  });\r\n\r\n  return (\r\n    <ScoreElement>\r\n      <span>\r\n        {p1Score} - {p2Score}\r\n      </span>\r\n    </ScoreElement>\r\n  );\r\n}\r\n\r\nexport default Score;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { store } from 'store/Store';\r\nimport BottomButtonElement from 'components/atoms/BottomButtonElement';\r\nimport Score from 'components/atoms/Score';\r\nimport { StoreState } from 'store/StoreState';\r\n\r\nfunction GameBottom() {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <>\r\n      <Score />\r\n      <BottomButtonElement onClick={() => {\r\n        dispatch({ type: 'UNDO' });\r\n      }}>\r\n        Undo\r\n      </BottomButtonElement>\r\n      <BottomButtonElement onClick={() => {\r\n        dispatch({ type: 'RESET' });\r\n      }}>\r\n        Reset\r\n      </BottomButtonElement>\r\n      <BottomButtonElement onClick={() => {\r\n        const { history }: StoreState = store.getState();\r\n\r\n        const replayData = {\r\n          width: 19,\r\n          height: 19,\r\n          history,\r\n        };\r\n\r\n        const file: HTMLAnchorElement = document.createElement('a');\r\n        const fileBlob: Blob = new Blob([JSON.stringify(replayData)], {type: 'json'});\r\n        file.href = URL.createObjectURL(fileBlob);\r\n        file.download = 'replay.json';\r\n        file.click();\r\n      }}>\r\n        Save As Replay\r\n      </BottomButtonElement>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GameBottom;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { StoreState } from 'store/StoreState';\r\nimport ReplayBottom from 'components/molecules/ReplayBottom';\r\nimport { AppMode } from 'types';\r\nimport GameBottom from 'components/molecules/GameBottom';\r\n\r\nconst BottomElement = styled.div`\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction BottomType(mode: AppMode) {\r\n  switch (mode) {\r\n    case AppMode.GAME:\r\n      return (\r\n        <GameBottom />\r\n      );\r\n    case AppMode.REPLAY:\r\n      return (\r\n        <ReplayBottom />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction Bottom() {\r\n  const modeSelector: (state: StoreState) => AppMode = ({ mode }) => mode;\r\n  const mode: AppMode = useSelector(modeSelector);\r\n\r\n  return (\r\n    <BottomElement>\r\n      {BottomType(mode)}\r\n    </BottomElement>\r\n  );\r\n}\r\n\r\nexport default Bottom;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { StoreState } from 'store/StoreState';\r\nimport { AppMode, Player } from 'types';\r\n\r\nconst WinnerEffectElement = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  animation: WinnerEffectAnimation linear 3000ms;\r\n  animation-iteration-count: 1;\r\n\r\n  @keyframes WinnerEffectAnimation {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    70% {\r\n      opacity: 1;\r\n    }\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WinnerEffectContentElement = styled.div`\r\n  width: inherit;\r\n  height: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bolder;\r\n  animation: WinnerEffectContentAnimation linear 3000ms;\r\n  animation-iteration-count: 1;\r\n\r\n  @keyframes WinnerEffectContentAnimation {\r\n    0% {\r\n      font-size: 0;\r\n    }\r\n    10% {\r\n      text-shadow: 0 0 5vw #61dafb, 0 0 3vw #61dafb, 0 0 1vw #61dafb;\r\n      font-size: 250%;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction WinnerEffect() {\r\n  const winnerSelector: (state: StoreState) => Player = ({ winner }) => winner;\r\n  const winner: Player = useSelector(winnerSelector);\r\n  const modeSelector: (state: StoreState) => AppMode = ({ mode }) => mode;\r\n  const mode: AppMode = useSelector(modeSelector);\r\n\r\n  if (mode === AppMode.GAME && winner !== Player.NONE) {\r\n    return (\r\n      <WinnerEffectElement>\r\n        <WinnerEffectContentElement>\r\n          <span>\r\n            Player { winner } Wins!\r\n          </span>\r\n        </WinnerEffectContentElement>\r\n      </WinnerEffectElement>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default WinnerEffect;\r\n","import React from 'react';\r\nimport Title from 'components/atoms/Title';\r\nimport Board from 'components/organisms/Board';\r\nimport ModeChanger from 'components/organisms/ModeChanger';\r\nimport Bottom from 'components/organisms/Bottom';\r\nimport WinnerEffect from 'components/molecules/WinnerEffect';\r\nimport { themeTitle } from 'theme/Theme';\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"Main\">\r\n      <Title title={themeTitle} />\r\n      <ModeChanger />\r\n      <Board />\r\n      <Bottom />\r\n      <WinnerEffect />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport './App.css';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store/Store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}