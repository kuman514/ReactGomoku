(this["webpackJsonpreact-gomoku"]=this["webpackJsonpreact-gomoku"]||[]).push([[0],{20:function(n,e,r){},21:function(n,e,r){},30:function(n,e,r){"use strict";r.r(e);var t,A=r(0),a=r.n(A),c=r(9),i=r.n(c),o=(r(20),r(21),r(2)),s=r(3),l=r(1),u=s.a.div(t||(t=Object(o.a)(["\n  margin-right: 1vw;\n  & * {\n    display: inline;\n  }\n"])));var h,d,g=function(n){return Object(l.jsx)(u,{children:n.title})},b=r(6),f=r(4),j={mode:"GAME",tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return 0}))})),curPlayer:1,history:new Array,winner:0,winningTracks:new Set,score:[0,0]},p=function(){var n=new Date,e=n.getDate(),r=n.getMonth();return 9===r&&31===e?"halloween":0===r&&1===e||11===r&&25===e?"winter":"default"}(),y={default:["\u26ab","\u26aa"],halloween:["\ud83d\udfe3","\ud83d\udfe0"],winter:["\ud83d\udd34","\ud83d\udfe2"]}[p],m={default:"React Gomoku",halloween:"Halloween Gomoku",winter:"Holiday Gomoku"}[p],U=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABqSURBVFhH7dcxEQAhDADB8OaQgJcX8F6QgDr4IhK4IjO3TaBhrkhDW+/YUcSTswRjKcZSjKUYSzGWYizFWIqxFGMppWKRD2P/Zp7uwmL/d/N2jztLMZZiLMVYirEUYynGUoylGEsxlhFxAPU5DGW3NCUgAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDABBk+UYgV0yQHbJCJkOXHiEfGHpT0LIDfqCxuO7144mrrpbMJZiLMVYirEUYynGUoylGEsxltIqduRpszAi2+183sh3a/qPf5ZiLMVYirEUYynGUoylGEsxlmIsI+IA2V0JZaIQfa0AAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDAVRk+UYgV0yQHbJCJkOXHiEXGHpnoSgvILmj+9eO5q46m7BWIqxFGMpxlKMpRhLMZZiLMVYSqvYkQcZjDlE6/UfZN3O50Vi/bMUYynGUoylGEsxlmIsxViKsRRjGREHMkAK75ERCYcAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDcAwDAXR35ArhHIpgHAJhKJLOgRCbrB0b7G8WLf6+t5n5rC7j/x393ZO27MEYynGUoylGEsxlmIsxViKsRRjKaVisYeR4HdLMZZiLMVYirEUYynGUoylGEsxllIoNlkfKg9lmMQ8rwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABrSURBVFhH7dexDcAgDABBw3KMkF0yALswAtMlFIzgLyz9SZZFg7512+/zRbIxV5x/7ytPv7sEYynGUoylGEsxlmIsxViKsRRjKaVi25n0g5HidUsxlmIsxViKsRRjKcZSjKUYSzGWUig24gcDTgxl/dAqVwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABuSURBVFhH7dfBCcAgEAXR1eZSQnqxAHtJCakuUbCEncPCPBDxInP97R33F8mu+cT697zy9HOXYCzFWIqxFGMpxlKMpRhLMZZiLKVUbFsnfTBuxGB03VKMpRhLMZZiLMVYirEUYynGUoylFIqN+AFcIg3vb7OljwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDYBAEADBB3NIwAsC8IIE1AEFEpiCZKe5fHPZ4pqfzm29xseW/RjP3vf1nfmdv1CsUqxSrFKsUqxSrFKsUqxSrPKrWPZhFEis0s0qxSrFKsUqxSrFKsUqxSrFKsUaY9yR3Axl4EBJtQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dcxDUAhDADR8s0hAS8I+F6QgDpgQEJvILmXENKF3MDSMntbkaz+I867d8rz3fsJxlKMpRhLMZZiLMVYirEUYynGUp6KLeekL4wUZLul+GcpxlKMpRhLMZZiLMVYirEUYynGMiI2dgAJZWqK6D0AAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABwSURBVFhH7de7CQAhEADR9ZqzBHuxgOvlSrjq/IAl7ATCPBDZRCYw2fL3NiJZfb9Y754pz3PuKxhLMZZiLMVYirEUYynGUoylGEu5Krask74wbsTCiGy3FP8sxViKsRRjKcZSjKUYSzGWYizFWEbEBM7UCu9ULAFPAAAAAElFTkSuQmCC"],w=s.a.button(h||(h=Object(o.a)(["\n  all: unset;\n  box-sizing: border-box;\n  margin: 0;\n  background-size: 100%;\n  color: ",";\n  background-image: url(",");\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n\n  &:focus {\n    border: 3px solid red;\n  }\n"])),(function(n){switch(n.player){case 1:return"black";case 2:return"white";default:return"transparent"}}),(function(n){return U[3*n.position[0]+n.position[1]]})),x=Object(s.a)(w)(d||(d=Object(o.a)(["\n  animation: FlashTrackedResult linear infinite 600ms;\n  @keyframes FlashTrackedResult {\n    0% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.3;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"])));var O,v,E=function(n){var e=n.keyPos.split(",").map((function(n){return parseInt(n)})),r=Object(b.a)(e,2),t=r[0],A=r[1],a=0===t?0:18===t?2:1,c=0===A?0:18===A?2:1,i=Object(f.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{who:n.tiles[t][A],available:"GAME"===n.mode&&0===n.winner&&0===n.tiles[t][A],winningTracked:n.winningTracks.has("[".concat(t,",").concat(A,"]"))}}));return i.winningTracked?Object(l.jsx)(x,{player:i.who,position:[a,c],id:n.keyPos,disabled:!i.available,children:0!==i.who?y[i.who-1]:"\ud83d\udd34"},n.keyPos):Object(l.jsx)(w,{player:i.who,position:[a,c],id:n.keyPos,disabled:!i.available,children:0!==i.who?y[i.who-1]:"\ud83d\udd34"},n.keyPos)},S=s.a.div(O||(O=Object(o.a)(["\n  width: 98vw;\n  @media (orientation: landscape) {\n    & {\n      width: 85vh;\n    }\n  }\n"]))),R=s.a.div(v||(v=Object(o.a)(["\n  width: 100%;\n  height: 98vw;\n  display: grid;\n  grid-template-columns: repeat(19, 1fr);\n  grid-template-rows: repeat(19, 1fr);\n  background-color: rgba(202, 138, 85, 0.5);\n  font-size: calc(5px + 2vmin);\n  @media (orientation: landscape) {\n    & {\n      height: 85vh;\n    }\n  }\n"])));var k=function(){var n=Object(f.b)();return Object(l.jsx)(S,{onClick:function(e){var r=e.target.id.split(",").map((function(n){return parseInt(n)})),t=Object(b.a)(r,2),A=t[0],a=t[1];Number.isNaN(A)||Number.isNaN(a)||n({type:"PUT",payload:[A,a]})},children:Object(l.jsx)(R,{children:Array.from({length:19},(function(){return Array.from({length:19})})).map((function(n,e){return n.map((function(n,r){return Object(l.jsx)(E,{keyPos:"".concat(e,",").concat(r)},"r".concat(e,"c").concat(r))}))}))})})},C=r(5),F=r(15),D={player1PutSFX:document.querySelector("#player1PutSFX"),player2PutSFX:document.querySelector("#player2PutSFX"),resetSFX:document.querySelector("#resetSFX"),undoSFX:document.querySelector("#undoSFX"),resultSFX:document.querySelector("#resultSFX")};function B(n){n.pause(),n.currentTime=0}function Y(n){B(D.player1PutSFX),B(D.player2PutSFX),B(D.undoSFX),B(D.resetSFX),B(D.resultSFX),n.play()}function G(n){switch(n){case"P1PUT":Y(D.player1PutSFX);break;case"P2PUT":Y(D.player2PutSFX);break;case"UNDO":Y(D.undoSFX);break;case"RESET":Y(D.resetSFX);break;case"RESULT":Y(D.resultSFX)}}function X(n,e){return!(n<0||n>18||e<0||e>18)}function T(n,e,r,t){var A=Array.from({length:19},(function(e,r){return Array.from(n.tiles[r])}));return A[e][r]=t,A}function Z(n){switch(n){case 1:return 2;case 2:return 1;default:return 0}}function P(n,e,r){if(0!==n.tiles[e][r])return n;var t=T(n,e,r,n.curPlayer),A=Z(n.curPlayer),a=function(n,e,r){for(var t=r[n][e],A=[[1,0],[0,1],[1,1],[1,-1]],a=0;a<A.length;a++){for(var c=Object(b.a)(A[a],2),i=c[0],o=c[1],s=[[n,e]],l=n+i,u=e+o;X(l,u)&&r[l][u]===t;)s.push([l,u]),l+=i,u+=o;for(l=n-i,u=e-o;X(l,u)&&r[l][u]===t;)s.push([l,u]),l-=i,u-=o;if(5===s.length)return[t,s]}return[0,[]]}(e,r,t),c=Object(b.a)(a,2),i=c[0],o=c[1],s=Array.from(n.history);s.push([e,r]);var l=Array.from(n.score);return 0!==i?(G("RESULT"),"GAME"===n.mode&&l[i-1]++):G("P".concat(n.curPlayer,"PUT")),Object(C.a)(Object(C.a)({},n),{},{tiles:t,curPlayer:A,history:s,winner:i,winningTracks:new Set(o.map((function(n){return"[".concat(n[0],",").concat(n[1],"]")}))),score:l})}function I(n){if(0===n.history.length)return n;var e=Array.from(n.history),r=e.pop();if(void 0===r)return n;var t=Object(b.a)(r,2),A=t[0],a=t[1];if(!X(A,a))return n;var c=T(n,A,a,0),i=Z(n.curPlayer);return G("UNDO"),Object(C.a)(Object(C.a)({},n),{},{tiles:c,curPlayer:i,history:e,winner:0,winningTracks:new Set})}function Q(n){return G("RESET"),Object(C.a)(Object(C.a)({},n),{},{tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return 0}))})),curPlayer:1,history:Array(),winner:0,winningTracks:new Set})}function K(n){switch(n){case"GAME":case"REPLAY":return!0;default:return!1}}var M,V=Object(F.a)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PUT":return P(n,e.payload[0],e.payload[1]);case"UNDO":return I(n);case"RESET":return Q(n);case"MODECHANGE":return Object(C.a)(Object(C.a)({},Q(n)),{},{mode:K(e.payload)?e.payload:n.mode});default:return n}})),N=s.a.button(M||(M=Object(o.a)(["\n  all: unset;\n  background-color: gray;\n  margin-top: 1vh;\n  margin-left: 0.25vw;\n  margin-right: 0.25vw;\n  padding-left: 0.25vw;\n  padding-right: 0.25vw;\n\n  &:hover {\n    background-color: #61dafb;\n    cursor: pointer;\n  }\n"])));var L,H=function(){var n=Object(f.b)(),e=Object(A.useState)({history:Array(),curTrack:0,maxTrack:0}),r=Object(b.a)(e,2),t=r[0],a=r[1];return Object(A.useEffect)((function(){document.title="React Gomoku :: Replay Mode - ".concat(t.curTrack," / ").concat(t.maxTrack)})),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{children:"Replay File: "}),Object(l.jsx)("input",{type:"file",accept:"application/json",onChange:function(e){e.target.files&&function(e){if(!(e.length<=0)){var r=new FileReader;r.addEventListener("load",(function(){var e=JSON.parse(r.result);19===e.width&&19===e.height&&null!==e.history&&void 0!==e.history&&(n({type:"RESET"}),a({history:e.history,curTrack:0,maxTrack:e.history.length}))})),r.readAsText(e[0])}}(e.target.files)}}),Object(l.jsx)(N,{onClick:function(){t.curTrack<=0||(n({type:"UNDO"}),a({history:t.history,curTrack:t.curTrack-1,maxTrack:t.history.length}))},children:"Prev"}),"".concat(t.curTrack," / ").concat(t.maxTrack),Object(l.jsx)(N,{onClick:function(){t.curTrack>=t.maxTrack||(n({type:"PUT",payload:t.history[t.curTrack]}),a({history:t.history,curTrack:t.curTrack+1,maxTrack:t.history.length}))},children:"Next"})]})},J=s.a.div(L||(L=Object(o.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"])));var q,z,W=function(){var n=Object(f.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{p1Score:n.score[0],p2Score:n.score[1]}}));return Object(A.useEffect)((function(){document.title="React Gomoku :: ".concat(n.p1Score," - ").concat(n.p2Score)})),Object(l.jsx)(J,{children:Object(l.jsxs)("span",{children:[n.p1Score," - ",n.p2Score]})})},$=s.a.div(q||(q=Object(o.a)(["\n  & * {\n    display: inline;\n  }\n"]))),_=s.a.button(z||(z=Object(o.a)(["\n  all: unset;\n  background-color: gray;\n  margin-top: 1vh;\n  margin-left: 0.25vw;\n  margin-right: 0.25vw;\n  padding-left: 0.25vw;\n  padding-right: 0.25vw;\n\n  &:hover {\n    background-color: #61dafb;\n    cursor: pointer;\n  }\n"])));function nn(n){var e=Object(f.b)();switch(n){case"GAME":return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(W,{}),Object(l.jsx)(_,{onClick:function(){e({type:"UNDO"})},children:"Undo"}),Object(l.jsx)(_,{onClick:function(){e({type:"RESET"})},children:"Reset"}),Object(l.jsx)(_,{onClick:function(){var n={width:19,height:19,history:V.getState().history},e=document.createElement("a"),r=new Blob([JSON.stringify(n)],{type:"json"});e.href=URL.createObjectURL(r),e.download="replay.json",e.click()},children:"Save As Replay"})]});case"REPLAY":return Object(l.jsx)(H,{});default:return null}}var en,rn=function(){var n=Object(f.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{mode:n.mode}}));return Object(l.jsx)($,{children:nn(n.mode)})},tn=s.a.div(en||(en=Object(o.a)(["\n  margin-left: 1vw;\n  & * {\n    display: inline;\n  }\n"])));var An,an,cn=function(){var n=Object(f.b)();return Object(l.jsxs)(tn,{onChange:function(e){n({type:"MODECHANGE",payload:e.target.value})},children:[Object(l.jsx)("input",{type:"radio",id:"game",name:"mode",value:"GAME",defaultChecked:!0}),Object(l.jsx)("label",{children:"Game"}),Object(l.jsx)("input",{type:"radio",id:"replay",name:"mode",value:"REPLAY"}),Object(l.jsx)("label",{children:"Replay"})]})},on=s.a.div(An||(An=Object(o.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  animation: WinnerEffectAnimation linear 3000ms;\n  animation-iteration-count: 1;\n\n  @keyframes WinnerEffectAnimation {\n    0% {\n      opacity: 1;\n    }\n    70% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"]))),sn=s.a.div(an||(an=Object(o.a)(["\n  width: inherit;\n  height: inherit;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  animation: WinnerEffectContentAnimation linear 3000ms;\n  animation-iteration-count: 1;\n\n  @keyframes WinnerEffectContentAnimation {\n    0% {\n      font-size: 0;\n    }\n    10% {\n      text-shadow: 0 0 5vw #61dafb, 0 0 3vw #61dafb, 0 0 1vw #61dafb;\n      font-size: 250%;\n    }\n  }\n"])));var ln=function(){var n=Object(f.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{winner:n.winner,mode:n.mode}}));return"GAME"===n.mode&&0!==n.winner?Object(l.jsx)(on,{children:Object(l.jsx)(sn,{children:Object(l.jsxs)("span",{children:["Player ",n.winner," Wins!"]})})}):null};var un=function(){return Object(l.jsxs)("main",{className:"Main",children:[Object(l.jsx)(g,{title:m}),Object(l.jsx)(cn,{}),Object(l.jsx)(k,{}),Object(l.jsx)(rn,{}),Object(l.jsx)(ln,{})]})};var hn=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(un,{})})},dn=function(n){n&&n instanceof Function&&r.e(3).then(r.bind(null,31)).then((function(e){var r=e.getCLS,t=e.getFID,A=e.getFCP,a=e.getLCP,c=e.getTTFB;r(n),t(n),A(n),a(n),c(n)}))};i.a.render(Object(l.jsx)(f.a,{store:V,children:Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(hn,{})})}),document.getElementById("root")),dn()}},[[30,1,2]]]);
//# sourceMappingURL=main.38ca128c.chunk.js.map