(this["webpackJsonpreact-gomoku"]=this["webpackJsonpreact-gomoku"]||[]).push([[0],{21:function(n,e,t){},22:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var r,A=t(0),c=t.n(A),a=t(10),i=t.n(a),o=(t(21),t(22),t(3)),s=t(4),u=t(1),l=s.a.div(r||(r=Object(o.a)(["\n  margin-right: 1vw;\n  & * {\n    display: inline;\n  }\n"])));var h,d=function(n){var e=n.title;return Object(u.jsx)(l,{children:e})},g=t(2),f=t(6);!function(n){n.LeftTopCorner="LEFT_TOP_CORNER",n.TopEdge="TOP_EDGE",n.RightTopCorner="RIGHT_TOP_CORNER",n.LeftEdge="LEFT_EDGE",n.InBoard="INBOARD",n.RightEdge="RIGHT_EDGE",n.LeftBottomCorner="LEFT_BOTTOM_CORNER",n.BottomEdge="BOTTOM_EDGE",n.RightBottomCorner="RIGHT_BOTTOM_CORNER"}(h||(h={}));var E,j,b,O,p,R=[h.LeftTopCorner,h.TopEdge,h.RightTopCorner,h.LeftEdge,h.InBoard,h.RightEdge,h.LeftBottomCorner,h.BottomEdge,h.RightBottomCorner];!function(n){n[n.LeftEdge=0]="LeftEdge",n[n.RightEdge=18]="RightEdge",n[n.TopEdge=0]="TopEdge",n[n.BottomEdge=18]="BottomEdge"}(E||(E={})),function(n){n.GAME="GAME",n.REPLAY="REPLAY"}(j||(j={})),function(n){n[n.NONE=0]="NONE",n[n.PLAYER1=1]="PLAYER1",n[n.PLAYER2=2]="PLAYER2"}(b||(b={}));var y=(O={},Object(f.a)(O,h.LeftTopCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABqSURBVFhH7dcxEQAhDADB8OaQgJcX8F6QgDr4IhK4IjO3TaBhrkhDW+/YUcSTswRjKcZSjKUYSzGWYizFWIqxFGMppWKRD2P/Zp7uwmL/d/N2jztLMZZiLMVYirEUYynGUoylGEsxlhFxAPU5DGW3NCUgAAAAAElFTkSuQmCC"),Object(f.a)(O,h.TopEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDABBk+UYgV0yQHbJCJkOXHiEfGHpT0LIDfqCxuO7144mrrpbMJZiLMVYirEUYynGUoylGEsxltIqduRpszAi2+183sh3a/qPf5ZiLMVYirEUYynGUoylGEsxlmIsI+IA2V0JZaIQfa0AAAAASUVORK5CYII="),Object(f.a)(O,h.RightTopCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDAVRk+UYgV0yQHbJCJkOXHiEXGHpnoSgvILmj+9eO5q46m7BWIqxFGMpxlKMpRhLMZZiLMVYSqvYkQcZjDlE6/UfZN3O50Vi/bMUYynGUoylGEsxlmIsxViKsRRjGREHMkAK75ERCYcAAAAASUVORK5CYII="),Object(f.a)(O,h.LeftEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDcAwDAXR35ArhHIpgHAJhKJLOgRCbrB0b7G8WLf6+t5n5rC7j/x393ZO27MEYynGUoylGEsxlmIsxViKsRRjKaVisYeR4HdLMZZiLMVYirEUYynGUoylGEsxllIoNlkfKg9lmMQ8rwAAAABJRU5ErkJggg=="),Object(f.a)(O,h.InBoard,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABrSURBVFhH7dexDcAgDABBw3KMkF0yALswAtMlFIzgLyz9SZZFg7512+/zRbIxV5x/7ytPv7sEYynGUoylGEsxlmIsxViKsRRjKaVi25n0g5HidUsxlmIsxViKsRRjKcZSjKUYSzGWUig24gcDTgxl/dAqVwAAAABJRU5ErkJggg=="),Object(f.a)(O,h.RightEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABuSURBVFhH7dfBCcAgEAXR1eZSQnqxAHtJCakuUbCEncPCPBDxInP97R33F8mu+cT697zy9HOXYCzFWIqxFGMpxlKMpRhLMZZiLKVUbFsnfTBuxGB03VKMpRhLMZZiLMVYirEUYynGUoylFIqN+AFcIg3vb7OljwAAAABJRU5ErkJggg=="),Object(f.a)(O,h.LeftBottomCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDYBAEADBB3NIwAsC8IIE1AEFEpiCZKe5fHPZ4pqfzm29xseW/RjP3vf1nfmdv1CsUqxSrFKsUqxSrFKsUqxSrPKrWPZhFEis0s0qxSrFKsUqxSrFKsUqxSrFKsUaY9yR3Axl4EBJtQAAAABJRU5ErkJggg=="),Object(f.a)(O,h.BottomEdge,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dcxDUAhDADR8s0hAS8I+F6QgDpgQEJvILmXENKF3MDSMntbkaz+I867d8rz3fsJxlKMpRhLMZZiLMVYirEUYynGUp6KLeekL4wUZLul+GcpxlKMpRhLMZZiLMVYirEUYynGMiI2dgAJZWqK6D0AAAAASUVORK5CYII="),Object(f.a)(O,h.RightBottomCorner,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABwSURBVFhH7de7CQAhEADR9ZqzBHuxgOvlSrjq/IAl7ATCPBDZRCYw2fL3NiJZfb9Y754pz3PuKxhLMZZiLMVYirEUYynGUoylGEu5Krask74wbsTCiGy3FP8sxViKsRRjKcZSjKUYSzGWYizFWEbEBM7UCu9ULAFPAAAAAElFTkSuQmCC"),O),m=s.a.button(p||(p=Object(o.a)(["\n  all: unset;\n  box-sizing: border-box;\n  margin: 0;\n  background-size: 100%;\n  color: ",";\n  background-image: url(",");\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n\n  &:focus {\n    border: 3px solid red;\n  }\n\n  animation: ",";\n  @keyframes FlashTrackedResult {\n    0% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.3;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"])),(function(n){return n.put?"#000000":"transparent"}),(function(n){var e=n.position;return y[e]}),(function(n){return n.flash?"FlashTrackedResult linear infinite 600ms":"none"})),U=function(){var n=new Date,e=n.getDate(),t=n.getMonth();return 9===t&&31===e?"halloween":0===t&&1===e||11===t&&25===e?"winter":"default"}(),x={default:["\u26ab","\u26aa"],halloween:["\ud83d\udfe3","\ud83d\udfe0"],winter:["\ud83d\udd34","\ud83d\udfe2"]}[U],v={default:"React Gomoku",halloween:"Halloween Gomoku",winter:"Holiday Gomoku"}[U];var w,S,C=function(n){var e=n.row,t=n.col,r=n.onClick,A=function(n,e){var t=1;switch(n){case E.TopEdge:t=0;break;case E.BottomEdge:t=2}var r=1;switch(e){case E.LeftEdge:r=0;break;case E.RightEdge:r=2}return R[3*t+r]}(e,t),c=function(n){switch(n){case b.PLAYER1:case b.PLAYER2:return x[n-1];default:return"\u274c"}}(Object(g.c)((function(n){return n.tiles[e][t]}))),a=Object(g.c)((function(n){return n.tiles[e][t]!==b.NONE})),i=!Object(g.c)((function(n){return n.mode===j.GAME&&(n.winner===b.NONE&&n.tiles[e][t]===b.NONE)})),o=Object(g.c)((function(n){return n.winningTracks.has("[".concat(e,",").concat(t,"]"))}));return Object(u.jsx)(m,{position:A,put:a,flash:o,disabled:i,onClick:function(){r(e,t)},children:c})},k=s.a.div(w||(w=Object(o.a)(["\n  width: 98vw;\n  @media (orientation: landscape) {\n    & {\n      width: 85vh;\n    }\n  }\n"]))),B=s.a.div(S||(S=Object(o.a)(["\n  width: 100%;\n  height: 98vw;\n  display: grid;\n  grid-template-columns: repeat(19, 1fr);\n  grid-template-rows: repeat(19, 1fr);\n  background-color: rgba(202, 138, 85, 0.5);\n  font-size: calc(5px + 2vmin);\n  @media (orientation: landscape) {\n    & {\n      height: 85vh;\n    }\n  }\n"])));var T=function(){var n=Object(g.b)(),e=function(e,t){Number.isNaN(e)||Number.isNaN(t)||n({type:"PUT",payload:[e,t]})};return Object(u.jsx)(k,{children:Object(u.jsx)(B,{children:Array.from({length:19},(function(){return Array.from({length:19})})).map((function(n,t){return n.map((function(n,r){return Object(u.jsx)(C,{row:t,col:r,onClick:e},"r".concat(t,"c").concat(r))}))}))})})};var Y,N=function(n){var e=n.id,t=n.value,r=n.children,A=n.defaultChecked;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{type:"radio",id:e,name:"mode",value:t,defaultChecked:A}),Object(u.jsx)("label",{children:r})]})},F=s.a.div(Y||(Y=Object(o.a)(["\n  & * {\n    display: inline;\n  }\n"])));var L,D=function(){var n=Object(g.b)();return Object(u.jsxs)(F,{onChange:function(e){n({type:"MODECHANGE",payload:e.target.value})},children:[Object(u.jsx)(N,{id:"game",value:j.GAME,defaultChecked:!0,children:"Game"}),Object(u.jsx)(N,{id:"replay",value:j.REPLAY,children:"Replay"})]})},G=t(8),P=s.a.button(L||(L=Object(o.a)(["\n  all: unset;\n  background-color: gray;\n  margin-top: 1vh;\n  margin-left: 0.25vw;\n  margin-right: 0.25vw;\n  padding-left: 0.25vw;\n  padding-right: 0.25vw;\n\n  &:hover {\n    background-color: #61dafb;\n    cursor: pointer;\n  }\n"])));var I=function(){var n=Object(g.b)(),e=Object(A.useState)({history:Array(),curTrack:0,maxTrack:0}),t=Object(G.a)(e,2),r=t[0],c=t[1];return Object(A.useEffect)((function(){document.title="React Gomoku :: Replay Mode - ".concat(r.curTrack," / ").concat(r.maxTrack)})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:"Replay File: "}),Object(u.jsx)("input",{type:"file",accept:"application/json",onChange:function(e){e.target.files&&function(e){if(!(e.length<=0)){var t=new FileReader;t.addEventListener("load",(function(){var e=JSON.parse(t.result);19===e.width&&19===e.height&&null!==e.history&&void 0!==e.history&&(n({type:"RESET"}),c({history:e.history,curTrack:0,maxTrack:e.history.length}))})),t.readAsText(e[0])}}(e.target.files)}}),Object(u.jsx)(P,{onClick:function(){r.curTrack<=0||(n({type:"UNDO"}),c({history:r.history,curTrack:r.curTrack-1,maxTrack:r.history.length}))},children:"Prev"}),"".concat(r.curTrack," / ").concat(r.maxTrack),Object(u.jsx)(P,{onClick:function(){r.curTrack>=r.maxTrack||(n({type:"PUT",payload:r.history[r.curTrack]}),c({history:r.history,curTrack:r.curTrack+1,maxTrack:r.history.length}))},children:"Next"})]})},X=t(5),M=t(16),Z={mode:j.GAME,tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return b.NONE}))})),curPlayer:b.PLAYER1,history:new Array,winner:b.NONE,winningTracks:new Set,score:[0,0]},Q={player1PutSFX:document.querySelector("#player1PutSFX"),player2PutSFX:document.querySelector("#player2PutSFX"),resetSFX:document.querySelector("#resetSFX"),undoSFX:document.querySelector("#undoSFX"),resultSFX:document.querySelector("#resultSFX")};function K(n){n.pause(),n.currentTime=0}function V(n){K(Q.player1PutSFX),K(Q.player2PutSFX),K(Q.undoSFX),K(Q.resetSFX),K(Q.resultSFX),n.play()}function H(n){switch(n){case"P1PUT":V(Q.player1PutSFX);break;case"P2PUT":V(Q.player2PutSFX);break;case"UNDO":V(Q.undoSFX);break;case"RESET":V(Q.resetSFX);break;case"RESULT":V(Q.resultSFX)}}function J(n,e){return!(n<0||n>18||e<0||e>18)}function q(n,e,t,r){var A=Array.from({length:19},(function(e,t){return Array.from(n.tiles[t])}));return A[e][t]=r,A}function z(n){switch(n){case b.PLAYER1:return b.PLAYER2;case b.PLAYER2:return b.PLAYER1;default:return 0}}function W(n,e,t){if(n.tiles[e][t]!==b.NONE)return n;var r=q(n,e,t,n.curPlayer),A=z(n.curPlayer),c=function(n,e,t){for(var r=t[n][e],A=[[1,0],[0,1],[1,1],[1,-1]],c=0;c<A.length;c++){for(var a=Object(G.a)(A[c],2),i=a[0],o=a[1],s=[[n,e]],u=n+i,l=e+o;J(u,l)&&t[u][l]===r;)s.push([u,l]),u+=i,l+=o;for(u=n-i,l=e-o;J(u,l)&&t[u][l]===r;)s.push([u,l]),u-=i,l-=o;if(5===s.length)return[r,s]}return[b.NONE,[]]}(e,t,r),a=Object(G.a)(c,2),i=a[0],o=a[1],s=Array.from(n.history);s.push([e,t]);var u=Array.from(n.score);return 0!==i?(H("RESULT"),n.mode===j.GAME&&u[i-1]++):H("P".concat(n.curPlayer,"PUT")),Object(X.a)(Object(X.a)({},n),{},{tiles:r,curPlayer:A,history:s,winner:i,winningTracks:new Set(o.map((function(n){return"[".concat(n[0],",").concat(n[1],"]")}))),score:u})}function _(n){if(0===n.history.length)return n;var e=Array.from(n.history),t=e.pop();if(void 0===t)return n;var r=Object(G.a)(t,2),A=r[0],c=r[1];if(!J(A,c))return n;var a=q(n,A,c,0),i=z(n.curPlayer);return H("UNDO"),Object(X.a)(Object(X.a)({},n),{},{tiles:a,curPlayer:i,history:e,winner:0,winningTracks:new Set})}function $(n){return H("RESET"),Object(X.a)(Object(X.a)({},n),{},{tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return b.NONE}))})),curPlayer:b.PLAYER1,history:Array(),winner:b.NONE,winningTracks:new Set})}function nn(n){switch(n){case j.GAME:case j.REPLAY:return!0;default:return!1}}var en,tn,rn=Object(M.a)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PUT":return W(n,e.payload[0],e.payload[1]);case"UNDO":return _(n);case"RESET":return $(n);case"MODECHANGE":return Object(X.a)(Object(X.a)({},$(n)),{},{mode:nn(e.payload)?e.payload:n.mode});default:return n}})),An=s.a.button(en||(en=Object(o.a)(["\n  all: unset;\n  background-color: gray;\n  margin-top: 1vh;\n  margin-left: 0.25vw;\n  margin-right: 0.25vw;\n  padding-left: 0.25vw;\n  padding-right: 0.25vw;\n\n  &:hover {\n    background-color: #61dafb;\n    cursor: pointer;\n  }\n"]))),cn=s.a.div(tn||(tn=Object(o.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"])));var an=function(){var n=Object(g.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=n.score;return e[0]})),e=Object(g.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=n.score;return e[1]}));return Object(A.useEffect)((function(){document.title="React Gomoku :: ".concat(n," - ").concat(e)})),Object(u.jsx)(cn,{children:Object(u.jsxs)("span",{children:[n," - ",e]})})};var on,sn=function(){var n=Object(g.b)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(an,{}),Object(u.jsx)(An,{onClick:function(){n({type:"UNDO"})},children:"Undo"}),Object(u.jsx)(An,{onClick:function(){n({type:"RESET"})},children:"Reset"}),Object(u.jsx)(An,{onClick:function(){var n={width:19,height:19,history:rn.getState().history},e=document.createElement("a"),t=new Blob([JSON.stringify(n)],{type:"json"});e.href=URL.createObjectURL(t),e.download="replay.json",e.click()},children:"Save As Replay"})]})},un=s.a.div(on||(on=Object(o.a)(["\n  & * {\n    display: inline;\n  }\n"])));function ln(n){switch(n){case j.GAME:return Object(u.jsx)(sn,{});case j.REPLAY:return Object(u.jsx)(I,{});default:return null}}var hn,dn,gn=function(){var n=Object(g.c)((function(n){return n.mode}));return Object(u.jsx)(un,{children:ln(n)})},fn=s.a.div(hn||(hn=Object(o.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  animation: WinnerEffectAnimation linear 3000ms;\n  animation-iteration-count: 1;\n\n  @keyframes WinnerEffectAnimation {\n    0% {\n      opacity: 1;\n    }\n    70% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"]))),En=s.a.div(dn||(dn=Object(o.a)(["\n  width: inherit;\n  height: inherit;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-weight: bolder;\n  animation: WinnerEffectContentAnimation linear 3000ms;\n  animation-iteration-count: 1;\n\n  @keyframes WinnerEffectContentAnimation {\n    0% {\n      font-size: 0;\n    }\n    10% {\n      text-shadow: 0 0 5vw #61dafb, 0 0 3vw #61dafb, 0 0 1vw #61dafb;\n      font-size: 250%;\n    }\n  }\n"])));var jn=function(){var n=Object(g.c)((function(n){return n.winner}));return Object(g.c)((function(n){return n.mode}))===j.GAME&&n!==b.NONE?Object(u.jsx)(fn,{children:Object(u.jsx)(En,{children:Object(u.jsxs)("span",{children:["Player"," ",n," ","Wins!"]})})}):null};var bn=function(){return Object(u.jsxs)("main",{className:"Main",children:[Object(u.jsx)(d,{title:v}),Object(u.jsx)(D,{}),Object(u.jsx)(T,{}),Object(u.jsx)(gn,{}),Object(u.jsx)(jn,{})]})};var On=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(bn,{})})},pn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,30)).then((function(e){var t=e.getCLS,r=e.getFID,A=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),r(n),A(n),c(n),a(n)}))};i.a.render(Object(u.jsx)(g.a,{store:rn,children:Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(On,{})})}),document.getElementById("root")),pn()}},[[28,1,2]]]);
//# sourceMappingURL=main.1be7a1d4.chunk.js.map