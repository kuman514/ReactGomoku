{"version":3,"sources":["components/atoms/Title/index.tsx","types.ts","components/atoms/BoardButton/index.tsx","Img/LeftTopCorner.png","Img/TopEdge.png","Img/RightTopCorner.png","Img/LeftEdge.png","Img/InBoard.png","Img/RightEdge.png","Img/LeftBottomCorner.png","Img/BottomEdge.png","Img/RightBottomCorner.png","theme/Theme.tsx","components/molecules/BoardTile/index.tsx","components/organisms/Board/index.tsx","components/molecules/ModeSelector/index.tsx","components/organisms/ModeChanger/index.tsx","store/StoreState.tsx","sfxs/SoundEffects.tsx","store/StoreProcess.tsx","store/Store.tsx","components/atoms/Score/index.tsx","components/molecules/ReplayBottom/index.tsx","components/organisms/Bottom/index.tsx","components/molecules/WinnerEffect/index.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TitleElement","styled","div","Title","ButtonPosition","props","title","Edges","ButtonPositionIndex","LeftTopCorner","TopEdge","RightTopCorner","LeftEdge","InBoard","RightEdge","LeftBottomCorner","BottomEdge","RightBottomCorner","urls","T","BoardButton","button","put","position","flash","THEME_INDEX","dat","Date","day","getDate","month","getMonth","themeButtons","themeTitle","BoardTile","row","col","finalRow","finalCol","getPosition","stone","who","getStone","useSelector","state","tiles","isPut","isDisabled","mode","winner","isTracked","winningTracks","has","disabled","onClick","BoardElement","TilesElement","Board","dispatch","useDispatch","onClickButton","Number","isNaN","type","payload","Array","from","length","map","line","i","_","j","ModeSelector","id","name","value","defaultChecked","children","ModeChangerElement","ModeChanger","onChange","event","target","initState","curPlayer","history","Set","score","SFXs","player1PutSFX","document","querySelector","player2PutSFX","resetSFX","undoSFX","resultSFX","stopSFX","wav","pause","currentTime","playWav","play","playSFX","wavName","isInRange","HEIGHT","WIDTH","getNewTiles","status","player","newTiles","getNewPlayer","putStone","newPlayer","directions","n","rDir","cDir","collected","curRow","curCol","push","checkWinner","newHistory","newScore","item","undo","tmp","pop","undefined","resetBoard","isAvailableMode","modeName","store","createStore","action","ScoreElement","Score","p1Score","p2Score","useEffect","BottomButtonElement","ReplayBottom","useState","curTrack","maxTrack","setStatus","accept","files","reader","FileReader","addEventListener","result","JSON","parse","width","height","readAsText","loadReplay","BottomElement","BottomType","replayData","getState","file","createElement","fileBlob","Blob","stringify","href","URL","createObjectURL","download","click","Bottom","WinnerEffectElement","WinnerEffectContentElement","WinnerEffect","Main","className","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f2bde386.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface TitleProps {\r\n  title: string\r\n}\r\n\r\nconst TitleElement = styled.div`\r\n  margin-right: 1vw;\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction Title(props: TitleProps) {\r\n  return (\r\n    <TitleElement>\r\n      { props.title }\r\n    </TitleElement>\r\n  );\r\n}\r\n\r\nexport default Title;\r\n","export enum ButtonPosition {\r\n  LeftTopCorner = 'LEFT_TOP_CORNER',\r\n  TopEdge = 'TOP_EDGE',\r\n  RightTopCorner = 'RIGHT_TOP_CORNER',\r\n  LeftEdge = 'LEFT_EDGE',\r\n  InBoard = 'INBOARD',\r\n  RightEdge = 'RIGHT_EDGE',\r\n  LeftBottomCorner = 'LEFT_BOTTOM_CORNER',\r\n  BottomEdge = 'BOTTOM_EDGE',\r\n  RightBottomCorner = 'RIGHT_BOTTOM_CORNER',\r\n};\r\nexport const ButtonPositionIndex = [\r\n  ButtonPosition.LeftTopCorner,\r\n  ButtonPosition.TopEdge,\r\n  ButtonPosition.RightTopCorner,\r\n  ButtonPosition.LeftEdge,\r\n  ButtonPosition.InBoard,\r\n  ButtonPosition.RightEdge,\r\n  ButtonPosition.LeftBottomCorner,\r\n  ButtonPosition.BottomEdge,\r\n  ButtonPosition.RightBottomCorner,\r\n];\r\nexport type ButtonBackgroundUrls = Record<ButtonPosition, string>;\r\n\r\nexport enum Edges {\r\n  LeftEdge = 0,\r\n  RightEdge = 18,\r\n  TopEdge = 0,\r\n  BottomEdge = 18,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nimport LeftTopCorner from 'Img/LeftTopCorner.png';\r\nimport TopEdge from 'Img/TopEdge.png';\r\nimport RightTopCorner from 'Img/RightTopCorner.png';\r\nimport LeftEdge from 'Img/LeftEdge.png';\r\nimport InBoard from 'Img/InBoard.png';\r\nimport RightEdge from 'Img/RightEdge.png';\r\nimport LeftBottomCorner from 'Img/LeftBottomCorner.png';\r\nimport BottomEdge from 'Img/BottomEdge.png';\r\nimport RightBottomCorner from 'Img/RightBottomCorner.png';\r\n\r\nimport * as T from 'types';\r\n\r\ninterface BoardButtonStyleProps {\r\n  position: T.ButtonPosition;\r\n  put?: boolean;\r\n  flash?: boolean;\r\n}\r\n\r\nexport const urls: T.ButtonBackgroundUrls = {\r\n  [T.ButtonPosition.LeftTopCorner]: LeftTopCorner,\r\n  [T.ButtonPosition.TopEdge]: TopEdge,\r\n  [T.ButtonPosition.RightTopCorner]: RightTopCorner,\r\n  [T.ButtonPosition.LeftEdge]: LeftEdge,\r\n  [T.ButtonPosition.InBoard]: InBoard,\r\n  [T.ButtonPosition.RightEdge]: RightEdge,\r\n  [T.ButtonPosition.LeftBottomCorner]: LeftBottomCorner,\r\n  [T.ButtonPosition.BottomEdge]: BottomEdge,\r\n  [T.ButtonPosition.RightBottomCorner]: RightBottomCorner,\r\n};\r\n\r\nconst BoardButton = styled.button`\r\n  all: unset;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  background-size: 100%;\r\n  color: ${(props: BoardButtonStyleProps) => props.put ? '#000000' : 'transparent'};\r\n  background-image: url(${(props: BoardButtonStyleProps) => urls[props.position]});\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  &:focus {\r\n    border: 3px solid red;\r\n  }\r\n\r\n  animation: ${(props: BoardButtonStyleProps) => props.flash\r\n    ? 'FlashTrackedResult linear infinite 600ms'\r\n    : 'none'\r\n  };\r\n  @keyframes FlashTrackedResult {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      opacity: 0.3;\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default BoardButton;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABqSURBVFhH7dcxEQAhDADB8OaQgJcX8F6QgDr4IhK4IjO3TaBhrkhDW+/YUcSTswRjKcZSjKUYSzGWYizFWIqxFGMppWKRD2P/Zp7uwmL/d/N2jztLMZZiLMVYirEUYynGUoylGEsxlhFxAPU5DGW3NCUgAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDABBk+UYgV0yQHbJCJkOXHiEfGHpT0LIDfqCxuO7144mrrpbMJZiLMVYirEUYynGUoylGEsxltIqduRpszAi2+183sh3a/qPf5ZiLMVYirEUYynGUoylGEsxlmIsI+IA2V0JZaIQfa0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dexDcAgDAVRk+UYgV0yQHbJCJkOXHiEXGHpnoSgvILmj+9eO5q46m7BWIqxFGMpxlKMpRhLMZZiLMVYSqvYkQcZjDlE6/UfZN3O50Vi/bMUYynGUoylGEsxlmIsxViKsRRjGREHMkAK75ERCYcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDcAwDAXR35ArhHIpgHAJhKJLOgRCbrB0b7G8WLf6+t5n5rC7j/x393ZO27MEYynGUoylGEsxlmIsxViKsRRjKaVisYeR4HdLMZZiLMVYirEUYynGUoylGEsxllIoNlkfKg9lmMQ8rwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAABrSURBVFhH7dexDcAgDABBw3KMkF0yALswAtMlFIzgLyz9SZZFg7512+/zRbIxV5x/7ytPv7sEYynGUoylGEsxlmIsxViKsRRjKaVi25n0g5HidUsxlmIsxViKsRRjKcZSjKUYSzGWUig24gcDTgxl/dAqVwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABuSURBVFhH7dfBCcAgEAXR1eZSQnqxAHtJCakuUbCEncPCPBDxInP97R33F8mu+cT697zy9HOXYCzFWIqxFGMpxlKMpRhLMZZiLKVUbFsnfTBuxGB03VKMpRhLMZZiLMVYirEUYynGUoylFIqN+AFcIg3vb7OljwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABoSURBVFhH7dcxDYBAEADBB3NIwAsC8IIE1AEFEpiCZKe5fHPZ4pqfzm29xseW/RjP3vf1nfmdv1CsUqxSrFKsUqxSrFKsUqxSrPKrWPZhFEis0s0qxSrFKsUqxSrFKsUqxSrFKsUaY9yR3Axl4EBJtQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABsSURBVFhH7dcxDUAhDADR8s0hAS8I+F6QgDpgQEJvILmXENKF3MDSMntbkaz+I867d8rz3fsJxlKMpRhLMZZiLMVYirEUYynGUp6KLeekL4wUZLul+GcpxlKMpRhLMZZiLMVYirEUYynGMiI2dgAJZWqK6D0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABwSURBVFhH7de7CQAhEADR9ZqzBHuxgOvlSrjq/IAl7ATCPBDZRCYw2fL3NiJZfb9Y754pz3PuKxhLMZZiLMVYirEUYynGUoylGEu5Krask74wbsTCiGy3FP8sxViKsRRjKcZSjKUYSzGWYizFWEbEBM7UCu9ULAFPAAAAAElFTkSuQmCC\"","const THEME_BUTTONS = {\r\n  'default': ['⚫', '⚪'],\r\n  'halloween': ['🟣', '🟠'],\r\n  'winter': ['🔴', '🟢']\r\n};\r\n\r\nconst THEME_TITLES = {\r\n  'default': 'React Gomoku',\r\n  'halloween': 'Halloween Gomoku',\r\n  'winter': 'Holiday Gomoku'\r\n};\r\n\r\nconst THEME_INDEX = (() => {\r\n  const dat: Date = new Date();\r\n\r\n  const day: number = dat.getDate();\r\n  const month: number = dat.getMonth();\r\n\r\n  if (month === 9 && day === 31) {\r\n    // October 31\r\n    return 'halloween';\r\n  } else if ((month === 0 && day === 1) || (month === 11 && day === 25)) {\r\n    // January 1 or December 25\r\n    return 'winter';\r\n  }\r\n\r\n  return 'default';\r\n})();\r\n\r\nexport const themeButtons: string[] = THEME_BUTTONS[THEME_INDEX];\r\nexport const themeTitle: string = THEME_TITLES[THEME_INDEX];\r\n","import BoardButton from 'components/atoms/BoardButton';\r\nimport { themeButtons } from 'theme/Theme';\r\n\r\nimport * as T from 'types';\r\nimport { StoreState } from 'store/StoreState';\r\nimport { useSelector } from 'react-redux';\r\n\r\ninterface BoardTileProps {\r\n  row: number;\r\n  col: number;\r\n  onClick: (row: number, col: number) => void;\r\n}\r\n\r\nconst getPosition: (row: number, col: number) => T.ButtonPosition = (row, col) => {\r\n  let finalRow: number = 1;\r\n  switch (row) {\r\n    case T.Edges.TopEdge:\r\n      finalRow = 0;\r\n      break;\r\n    case T.Edges.BottomEdge:\r\n      finalRow = 2;\r\n      break;\r\n  }\r\n\r\n  let finalCol: number = 1;\r\n  switch (col) {\r\n    case T.Edges.LeftEdge:\r\n      finalCol = 0;\r\n      break;\r\n    case T.Edges.RightEdge:\r\n      finalCol = 2;\r\n      break;\r\n  }\r\n\r\n  const finalIndex = finalRow * 3 + finalCol;\r\n  return T.ButtonPositionIndex[finalIndex];\r\n}\r\n\r\nconst getStone: (who?: number) => string = (who) => {\r\n  switch (who) {\r\n    case 1: case 2:\r\n      return themeButtons[who - 1];\r\n    default:\r\n      return '❌';\r\n  }\r\n};\r\n\r\nfunction BoardTile(props: BoardTileProps) {\r\n  const position: T.ButtonPosition = getPosition(props.row, props.col);\r\n  \r\n  const whoPutSelector: (state: StoreState) => number = (state) => {\r\n    return state.tiles[props.row][props.col];\r\n  };\r\n  const whoPut: number = useSelector(whoPutSelector);\r\n  const stone: string = getStone(whoPut);\r\n\r\n  const isPutSelector: (state: StoreState) => boolean = (state) => {\r\n    if (state.tiles[props.row][props.col] === 0) return false;\r\n\r\n    return true;\r\n  };\r\n  const isPut: boolean = useSelector(isPutSelector);\r\n\r\n  const isAvailableSelector: (state: StoreState) => boolean = (state) => {\r\n    if (state.mode !== 'GAME') return false;\r\n\r\n    if (state.winner !== 0) return false;\r\n\r\n    if (state.tiles[props.row][props.col] !== 0) return false;\r\n\r\n    return true;\r\n  };\r\n  const isAvailable: boolean = useSelector(isAvailableSelector);\r\n  const isDisabled: boolean = !isAvailable;\r\n\r\n  const isTrackedSelector: (state: StoreState) => boolean = (state) => {\r\n    return state.winningTracks.has(`[${props.row},${props.col}]`);\r\n  };\r\n  const isTracked: boolean = useSelector(isTrackedSelector);\r\n\r\n  const onClickTile: () => void = () => {\r\n    props.onClick(props.row, props.col);\r\n  };\r\n\r\n  return (\r\n    <BoardButton\r\n      position={position}\r\n      put={isPut}\r\n      flash={isTracked}\r\n      disabled={isDisabled}\r\n      onClick={onClickTile}\r\n    >\r\n      { stone }\r\n    </BoardButton>\r\n  );\r\n}\r\n\r\nexport default BoardTile;\r\n","import { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nimport BoardTile from 'components/molecules/BoardTile';\r\n\r\nconst BoardElement = styled.div`\r\n  width: 98vw;\r\n  @media (orientation: landscape) {\r\n    & {\r\n      width: 85vh;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TilesElement = styled.div`\r\n  width: 100%;\r\n  height: 98vw;\r\n  display: grid;\r\n  grid-template-columns: repeat(19, 1fr);\r\n  grid-template-rows: repeat(19, 1fr);\r\n  background-color: rgba(202, 138, 85, 0.5);\r\n  font-size: calc(5px + 2vmin);\r\n  @media (orientation: landscape) {\r\n    & {\r\n      height: 85vh;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Board() {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClickButton: (row: number, col: number) => void = (row, col) => {\r\n    if (Number.isNaN(row) || Number.isNaN(col)) return;\r\n\r\n    dispatch({\r\n      type: 'PUT',\r\n      payload: [row, col],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <BoardElement>\r\n      <TilesElement>\r\n        {\r\n          Array.from({length: 19}, () => Array.from({length: 19}))\r\n            .map((line, i) => {\r\n              return line.map((_, j) => {\r\n                return (\r\n                  <BoardTile\r\n                    key={`r${i}c${j}`}\r\n                    row={i}\r\n                    col={j}\r\n                    onClick={onClickButton}\r\n                  />\r\n                );\r\n              });\r\n            })\r\n        }\r\n      </TilesElement>\r\n    </BoardElement>\r\n  );\r\n}\r\n\r\nexport default Board;\r\n","interface ModeSelectorProps {\r\n  id: string;\r\n  value: string;\r\n  children?: string | JSX.Element;\r\n  defaultChecked?: boolean;\r\n}\r\n\r\nfunction ModeSelector(props: ModeSelectorProps) {\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"radio\"\r\n        id={props.id}\r\n        name=\"mode\"\r\n        value={props.value}\r\n        defaultChecked={props.defaultChecked}\r\n      />\r\n      <label>\r\n        { props.children }\r\n      </label>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ModeSelector;\r\n","import { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport ModeSelector from 'components/molecules/ModeSelector';\r\n\r\nconst ModeChangerElement = styled.div`\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nfunction ModeChanger() {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <ModeChangerElement onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\r\n      dispatch({\r\n        type: 'MODECHANGE',\r\n        payload: event.target.value\r\n      });\r\n    }}>\r\n      <ModeSelector\r\n        id='game'\r\n        value='GAME'\r\n        defaultChecked\r\n      >\r\n        Game\r\n      </ModeSelector>\r\n      <ModeSelector\r\n        id='replay'\r\n        value='REPLAY'\r\n      >\r\n        Replay\r\n      </ModeSelector>\r\n    </ModeChangerElement>\r\n  );\r\n}\r\n\r\nexport default ModeChanger;\r\n","export interface StoreState {\r\n  mode: string,\r\n  tiles: number[][],\r\n  curPlayer: number,\r\n  history: number[][],\r\n  winner: number,\r\n  winningTracks: Set<string>,\r\n  score: number[]\r\n};\r\n\r\nexport const initState: StoreState = {\r\n  mode: 'GAME',\r\n  tiles: Array.from({length: 19}, () => Array.from({length: 19}, () => 0)),\r\n  curPlayer: 1,\r\n  history: new Array<number[]>(),\r\n  winner: 0,\r\n  winningTracks: new Set<string>(),\r\n  score: [0, 0]\r\n};\r\n","const SFXs = {\r\n  player1PutSFX: document.querySelector('#player1PutSFX'),\r\n  player2PutSFX: document.querySelector('#player2PutSFX'),\r\n  resetSFX: document.querySelector('#resetSFX'),\r\n  undoSFX: document.querySelector('#undoSFX'),\r\n  resultSFX: document.querySelector('#resultSFX')\r\n}\r\n\r\nfunction stopSFX(wav: Element | null): void {\r\n  (wav as HTMLAudioElement).pause();\r\n  (wav as HTMLAudioElement).currentTime = 0;\r\n}\r\n\r\nfunction initSFX(): void {\r\n  stopSFX(SFXs.player1PutSFX);\r\n  stopSFX(SFXs.player2PutSFX);\r\n  stopSFX(SFXs.undoSFX);\r\n  stopSFX(SFXs.resetSFX);\r\n  stopSFX(SFXs.resultSFX);\r\n}\r\n\r\nfunction playWav(wav: Element | null): void {\r\n  initSFX();\r\n  (wav as HTMLAudioElement).play();\r\n}\r\n\r\nexport function playSFX(wavName: string): void {\r\n  switch (wavName) {\r\n    case 'P1PUT':\r\n      playWav(SFXs.player1PutSFX);\r\n      break;\r\n    case 'P2PUT':\r\n      playWav(SFXs.player2PutSFX);\r\n      break;\r\n    case 'UNDO':\r\n      playWav(SFXs.undoSFX);\r\n      break;\r\n    case 'RESET':\r\n      playWav(SFXs.resetSFX);\r\n      break;\r\n    case 'RESULT':\r\n      playWav(SFXs.resultSFX);\r\n      break;     \r\n  }\r\n}\r\n","import { StoreState } from './StoreState';\r\nimport { playSFX } from '../sfxs/SoundEffects';\r\n\r\nconst EMPTY: number = 0;\r\nconst WIDTH: number = 19;\r\nconst HEIGHT: number = 19;\r\nconst OBJECTIVE: number = 5;\r\nconst COL_BOUNDARY: number = WIDTH - 1;\r\nconst ROW_BOUNDARY: number = HEIGHT - 1;\r\n\r\nfunction isInRange(row: number, col: number): boolean {\r\n  if (row < 0 || row > ROW_BOUNDARY || col < 0 || col > COL_BOUNDARY) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nfunction getNewTiles(status: StoreState, row: number, col: number, player: number): number[][] {\r\n  const newTiles = Array.from({length: HEIGHT}, (_, i) => Array.from(status.tiles[i]));\r\n  newTiles[row][col] = player;\r\n  return newTiles;\r\n};\r\n\r\nfunction getNewPlayer(curPlayer: number): number {\r\n  switch (curPlayer) {\r\n    case 1:\r\n      return 2;\r\n    case 2:\r\n      return 1;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nfunction checkWinner(row: number, col: number, newTiles: number[][]): [number, number[][]] {\r\n  const winner: number = newTiles[row][col];\r\n\r\n  const directions: number[][] = [[1, 0], [0, 1], [1, 1], [1, -1]];\r\n  for (let n: number = 0; n < directions.length; n++) {\r\n    const [rDir, cDir] = directions[n];\r\n    const collected: number[][] = [[row, col]];\r\n\r\n    let [curRow, curCol] = [row + rDir, col + cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow += rDir;\r\n      curCol += cDir;\r\n    }\r\n\r\n    [curRow, curCol] = [row - rDir, col - cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow -= rDir;\r\n      curCol -= cDir;\r\n    }\r\n\r\n    if (collected.length === OBJECTIVE) {\r\n      return [winner, collected];\r\n    }\r\n  }\r\n\r\n  return [0, []];\r\n};\r\n\r\nexport function putStone(status: StoreState, row: number, col: number): StoreState {\r\n  if (status.tiles[row][col] !== 0) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: number[][] = getNewTiles(status, row, col, status.curPlayer);\r\n  const newPlayer: number = getNewPlayer(status.curPlayer);\r\n\r\n  const [winner, winningTracks] = checkWinner(row, col, newTiles);\r\n\r\n  const newHistory = Array.from(status.history);\r\n  newHistory.push([row, col]);\r\n\r\n  const newScore = Array.from(status.score);\r\n\r\n  if (winner !== 0) {\r\n    playSFX('RESULT');\r\n    if (status.mode === 'GAME') {\r\n      newScore[winner - 1]++;\r\n    }\r\n  } else {\r\n    playSFX(`P${status.curPlayer}PUT`);\r\n  }\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: winner,\r\n    winningTracks: new Set<string>(\r\n      winningTracks.map((item) => `[${item[0]},${item[1]}]`)\r\n    ),\r\n    score: newScore\r\n  };\r\n};\r\n\r\nexport function undo(status: StoreState): StoreState {\r\n  if (status.history.length === 0) {\r\n    return status;\r\n  }\r\n\r\n  const newHistory = Array.from(status.history);\r\n  const tmp: number[] | undefined = newHistory.pop();\r\n\r\n  if (tmp === undefined) {\r\n    return status;\r\n  }\r\n\r\n  const [row, col] = tmp;\r\n  if (!isInRange(row, col)) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: number[][] = getNewTiles(status, row, col, EMPTY);\r\n  const newPlayer: number = getNewPlayer(status.curPlayer);\r\n\r\n  playSFX('UNDO');\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: EMPTY,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function resetBoard(status: StoreState): StoreState {\r\n  playSFX('RESET');\r\n  \r\n  return {\r\n    ...status,\r\n    tiles: Array.from({length: HEIGHT}, () => Array.from({length: WIDTH}, () => 0)),\r\n    curPlayer: 1,\r\n    history: Array<number[]>(),\r\n    winner: 0,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function isAvailableMode(modeName: string) {\r\n  switch (modeName) {\r\n    case 'GAME': case 'REPLAY':\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport { StoreState, initState } from './StoreState';\r\nimport { StoreActions } from './StoreActions';\r\nimport {\r\n  putStone,\r\n  undo,\r\n  resetBoard,\r\n  isAvailableMode\r\n} from './StoreProcess';\r\n\r\nexport const store = createStore((state: StoreState = initState, action: StoreActions) => {\r\n  /*\r\n    1. PUT TYPE ACTION (coords: [row, col])\r\n      - Put a tile into new coords\r\n      - Push coords as an element in history\r\n      - Check winner and winningTracks\r\n      - Switch player\r\n    2. UNDO TYPE ACTION\r\n      - If there's no history, stop this process\r\n      - Clear a tile in coords of the top element in history\r\n      - Pop the top element in history\r\n      - Switch player\r\n      - Revoke winner and winningTracks\r\n    3. RESET TYPE ACTION - Resets the whole board\r\n      - Clear all the tiles\r\n      - Set curPlayer to 1\r\n      - Clear history\r\n      - Set winner to 0\r\n      - Clear winningTracks\r\n    4. MODECHANGE TYPE ACTION (mode: 'GAME' or 'REPLAY')\r\n      - Mode change resets the whole board\r\n  */\r\n  switch (action.type) {\r\n    case 'PUT':\r\n      return putStone(state, action.payload[0], action.payload[1]);\r\n    case 'UNDO':\r\n      return undo(state);\r\n    case 'RESET':\r\n      return resetBoard(state);\r\n    case 'MODECHANGE':\r\n      return {\r\n        ...resetBoard(state),\r\n        mode: isAvailableMode(action.payload) ? action.payload : state.mode\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { initState, StoreState } from 'store/StoreState';\r\n\r\ninterface ScoreState {\r\n  p1Score: number,\r\n  p2Score: number\r\n}\r\n\r\nconst ScoreElement = styled.div`\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nfunction Score() {\r\n  const selector = (state: StoreState = initState): ScoreState => {\r\n    return {\r\n      p1Score: state.score[0],\r\n      p2Score: state.score[1]\r\n    };\r\n  };\r\n  const status = useSelector(selector);\r\n\r\n  useEffect(() => {\r\n    document.title = `React Gomoku :: ${status.p1Score} - ${status.p2Score}`;\r\n  });\r\n\r\n  return (\r\n    <ScoreElement>\r\n      <span>\r\n        {status.p1Score} - {status.p2Score}\r\n      </span>\r\n    </ScoreElement>\r\n  );\r\n}\r\n\r\nexport default Score;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nconst BottomButtonElement = styled.button`\r\n  all: unset;\r\n  background-color: gray;\r\n  margin-top: 1vh;\r\n  margin-left: 0.25vw;\r\n  margin-right: 0.25vw;\r\n  padding-left: 0.25vw;\r\n  padding-right: 0.25vw;\r\n\r\n  &:hover {\r\n    background-color: #61dafb;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nfunction ReplayBottom() {\r\n  const dispatch = useDispatch();\r\n  const [status, setStatus] = useState({\r\n    history: Array<number[]>(),\r\n    curTrack: 0,\r\n    maxTrack: 0\r\n  });\r\n\r\n  const loadReplay = (files: FileList): void => {\r\n    if (files.length <= 0) {\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => {\r\n      const result = JSON.parse(reader.result as string);\r\n\r\n      if (result.width !== 19 || result.height !== 19) {\r\n        return;\r\n      }\r\n\r\n      if (result.history === null || result.history === undefined) {\r\n        return;\r\n      }\r\n\r\n      dispatch({ type: 'RESET' });\r\n      setStatus({\r\n        history: result.history,\r\n        curTrack: 0,\r\n        maxTrack: result.history.length\r\n      });\r\n    });\r\n\r\n    reader.readAsText(files[0]);\r\n  };\r\n\r\n  const onClickPrev = (): void => {\r\n    if (status.curTrack <= 0) {\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'UNDO' });\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack - 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  const onClickNext = () => {\r\n    if (status.curTrack >= status.maxTrack) {\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      type: 'PUT',\r\n      payload: status.history[status.curTrack]\r\n    });\r\n\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack + 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = `React Gomoku :: Replay Mode - ${status.curTrack} / ${status.maxTrack}`;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <label>Replay File: </label>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"application/json\"\r\n        onChange={(event) => {\r\n          if ((event.target as HTMLInputElement).files) {\r\n            loadReplay((event.target as HTMLInputElement).files as FileList);\r\n          }\r\n        }\r\n      }/>\r\n      <BottomButtonElement onClick={onClickPrev}>\r\n        Prev\r\n      </BottomButtonElement>\r\n      {\r\n        `${status.curTrack} / ${status.maxTrack}`\r\n      }\r\n      <BottomButtonElement onClick={onClickNext}>\r\n        Next\r\n      </BottomButtonElement>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ReplayBottom;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { store } from 'store/Store';\r\nimport { StoreState, initState } from 'store/StoreState';\r\nimport Score from 'components/atoms/Score';\r\nimport ReplayBottom from 'components/molecules/ReplayBottom';\r\n\r\ninterface BottomState {\r\n  mode: string\r\n}\r\n\r\nconst BottomElement = styled.div`\r\n  & * {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nconst BottomButtonElement = styled.button`\r\n  all: unset;\r\n  background-color: gray;\r\n  margin-top: 1vh;\r\n  margin-left: 0.25vw;\r\n  margin-right: 0.25vw;\r\n  padding-left: 0.25vw;\r\n  padding-right: 0.25vw;\r\n\r\n  &:hover {\r\n    background-color: #61dafb;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nfunction BottomType(mode: string) {\r\n  const dispatch = useDispatch();\r\n  switch (mode) {\r\n    case 'GAME':\r\n      return (\r\n        <>\r\n          <Score />\r\n          <BottomButtonElement onClick={() => {\r\n            dispatch({ type: 'UNDO' });\r\n          }}>\r\n            Undo\r\n          </BottomButtonElement>\r\n          <BottomButtonElement onClick={() => {\r\n            dispatch({ type: 'RESET' });\r\n          }}>\r\n            Reset\r\n          </BottomButtonElement>\r\n          <BottomButtonElement onClick={() => {\r\n            const status: StoreState = store.getState();\r\n\r\n            const replayData = {\r\n              width: 19,\r\n              height: 19,\r\n              history: status.history\r\n            };\r\n\r\n            const file: HTMLAnchorElement = document.createElement('a');\r\n            const fileBlob: Blob = new Blob([JSON.stringify(replayData)], {type: 'json'});\r\n            file.href = URL.createObjectURL(fileBlob);\r\n            file.download = 'replay.json';\r\n            file.click();\r\n          }}>\r\n            Save As Replay\r\n          </BottomButtonElement>\r\n        </>\r\n      );\r\n    case 'REPLAY':\r\n      return (\r\n        <ReplayBottom />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction Bottom() {\r\n  const selector = (state: StoreState = initState): BottomState => {\r\n    return {\r\n      mode: state.mode\r\n    };\r\n  };\r\n  const status = useSelector(selector);\r\n\r\n  return (\r\n    <BottomElement>\r\n      {BottomType(status.mode)}\r\n    </BottomElement>\r\n  );\r\n}\r\n\r\nexport default Bottom;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { initState, StoreState } from 'store/StoreState';\r\n\r\ninterface WinnerEffectState {\r\n  winner: number,\r\n  mode: string\r\n};\r\n\r\nconst WinnerEffectElement = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  animation: WinnerEffectAnimation linear 3000ms;\r\n  animation-iteration-count: 1;\r\n\r\n  @keyframes WinnerEffectAnimation {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    70% {\r\n      opacity: 1;\r\n    }\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WinnerEffectContentElement = styled.div`\r\n  width: inherit;\r\n  height: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bolder;\r\n  animation: WinnerEffectContentAnimation linear 3000ms;\r\n  animation-iteration-count: 1;\r\n\r\n  @keyframes WinnerEffectContentAnimation {\r\n    0% {\r\n      font-size: 0;\r\n    }\r\n    10% {\r\n      text-shadow: 0 0 5vw #61dafb, 0 0 3vw #61dafb, 0 0 1vw #61dafb;\r\n      font-size: 250%;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction WinnerEffect() {\r\n  const selector = (state: StoreState = initState): WinnerEffectState => {\r\n    return {\r\n      winner: state.winner,\r\n      mode: state.mode\r\n    }\r\n  };\r\n  const status = useSelector(selector);\r\n  const renderWinnerEffect = () => {\r\n    if (status.mode === 'GAME' && status.winner !== 0) {\r\n      return (\r\n        <WinnerEffectElement>\r\n          <WinnerEffectContentElement>\r\n            <span>\r\n              Player { status.winner } Wins!\r\n            </span>\r\n          </WinnerEffectContentElement>\r\n        </WinnerEffectElement>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return renderWinnerEffect();\r\n}\r\n\r\nexport default WinnerEffect;\r\n","import React from 'react';\r\nimport Title from 'components/atoms/Title';\r\nimport Board from 'components/organisms/Board';\r\nimport ModeChanger from 'components/organisms/ModeChanger';\r\nimport Bottom from 'components/organisms/Bottom';\r\nimport WinnerEffect from 'components/molecules/WinnerEffect';\r\nimport { themeTitle } from 'theme/Theme';\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"Main\">\r\n      <Title title={themeTitle} />\r\n      <ModeChanger />\r\n      <Board />\r\n      <Bottom />\r\n      <WinnerEffect />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport './App.css';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store/Store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}