{"version":3,"sources":["components/Board.module.css","components/Title.tsx","store/StoreState.ts","components/BoardButton.tsx","components/Board.tsx","sfxs/SoundEffects.tsx","store/StoreProcess.ts","store/Store.ts","components/GameBottom.tsx","components/ReplayBottom.tsx","components/Bottom.tsx","components/ModeChanger.tsx","components/WinnerEffect.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/BoardButton.module.css","components/Bottom.module.css"],"names":["module","exports","Title","props","className","title","initState","mode","tiles","Array","from","length","curPlayer","history","winner","winningTracks","Set","classNames","styles","LeftTopCorner","TopEdge","RightTopCorner","LeftEdge","InBoard","RightEdge","LeftBottomCorner","BottomEdge","RightBottomCorner","BoardButton","keyPos","split","map","item","parseInt","row","col","rPos","cPos","buttonStatus","useSelector","state","who","available","winningTracked","has","playerType","Player1","Player2","Player0","finalClassName","TrackedResult","id","disabled","theme","Board","dispatch","useDispatch","onClick","event","target","Number","isNaN","type","payload","Tiles","line","i","_","j","themeButtons","SFXs","player1PutSFX","document","querySelector","player2PutSFX","resetSFX","undoSFX","resultSFX","stopSFX","wav","pause","currentTime","playWav","play","playSFX","wavName","isInRange","HEIGHT","WIDTH","getNewTiles","status","player","newTiles","getNewPlayer","putStone","newPlayer","directions","n","rDir","cDir","collected","curRow","curCol","push","checkWinner","newHistory","undo","tmp","pop","undefined","resetBoard","isAvailableMode","modeName","store","createStore","action","GameBottom","Bottom","replayData","width","height","getState","file","createElement","fileBlob","Blob","JSON","stringify","href","URL","createObjectURL","download","click","ReplayBottom","useState","curTrack","maxTrack","setStatus","accept","onChange","files","reader","FileReader","addEventListener","result","parse","readAsText","loadReplay","renderBottom","ModeCahnger","value","name","defaultChecked","WinnerEffect","THEME_BUTTONS","THEME_TITLES","THEME_INDEX","dat","Date","day","getDate","month","getMonth","Main","ModeChanger","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.63d48bb5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Board\":\"Board_Board__3vYMo\",\"Tiles\":\"Board_Tiles__1R0S7\"};","import React from 'react';\r\n\r\ninterface TitleProps {\r\n  title: string\r\n}\r\n\r\nfunction Title(props: TitleProps) {\r\n  return (\r\n    <div className=\"Title\">\r\n      { props.title }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Title;\r\n","export interface StoreState {\r\n  mode: string,\r\n  tiles: number[][],\r\n  curPlayer: number,\r\n  history: number[][],\r\n  winner: number,\r\n  winningTracks: Set<string>\r\n};\r\n\r\nexport const initState: StoreState = {\r\n  mode: 'GAME',\r\n  tiles: Array.from({length: 19}, () => Array.from({length: 19}, () => 0)),\r\n  curPlayer: 1,\r\n  history: new Array<number[]>(),\r\n  winner: 0,\r\n  winningTracks: new Set<string>()\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { StoreState, initState } from '../store/StoreState';\r\nimport styles from './BoardButton.module.css';\r\n\r\ninterface BoardButtonProps {\r\n  keyPos: string,\r\n  theme: string[]\r\n}\r\n\r\ninterface BoardButtonState {\r\n  who: number,\r\n  available: boolean,\r\n  winningTracked: boolean\r\n}\r\n\r\nconst classNames: string[][] = [\r\n  [styles.LeftTopCorner, styles.TopEdge, styles.RightTopCorner],\r\n  [styles.LeftEdge, styles.InBoard, styles.RightEdge],\r\n  [styles.LeftBottomCorner, styles.BottomEdge, styles.RightBottomCorner]\r\n];\r\n\r\nfunction BoardButton(props: BoardButtonProps) {\r\n  const [row, col] = props.keyPos.split(',').map((item) => parseInt(item));\r\n  const rPos = (row === 0) ? 0 : ((row === 18) ? 2 : 1);\r\n  const cPos = (col === 0) ? 0 : ((col === 18) ? 2 : 1);\r\n  const selector = (state: StoreState = initState): BoardButtonState => {\r\n    return {\r\n      who: state.tiles[row][col],\r\n      available: (state.mode === 'GAME') && (state.winner === 0) && (state.tiles[row][col] === 0),\r\n      winningTracked: state.winningTracks.has(`[${row},${col}]`)\r\n    };\r\n  }\r\n  const buttonStatus = useSelector(selector);\r\n  const playerType: string = (buttonStatus.who !== 0) ? (buttonStatus.who === 1 ? styles.Player1 : styles.Player2) : styles.Player0;\r\n  const finalClassName: string = classNames[rPos][cPos];\r\n  const winningTracked: string = buttonStatus.winningTracked ? styles.TrackedResult : '';\r\n\r\n  return (\r\n    <button\r\n      className={`${styles.BoardButton} ${playerType} ${finalClassName} ${winningTracked}`}\r\n      key={props.keyPos}\r\n      id={props.keyPos}\r\n      disabled={!buttonStatus.available}\r\n    >\r\n      { buttonStatus.who !== 0 ? (props.theme[buttonStatus.who - 1]) : 'ðŸ”´' }\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default BoardButton;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport BoardButton from './BoardButton';\r\nimport styles from './Board.module.css'\r\n\r\ninterface BoardProps {\r\n  themeButtons: string[]\r\n}\r\n\r\nfunction Board(props: BoardProps) {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={styles.Board} onClick={(event) => {\r\n      const [row, col] = (event.target as HTMLElement).id.split(',').map((item) => parseInt(item));\r\n\r\n      if (Number.isNaN(row) || Number.isNaN(col)) {\r\n        return;\r\n      }\r\n\r\n      dispatch({\r\n        type: 'PUT',\r\n        payload: [row, col]\r\n      });\r\n    }}>\r\n      <div className={styles.Tiles}>\r\n        {\r\n          Array.from({length: 19}, () => Array.from({length: 19})).map((line, i) => {\r\n            return line.map((_, j) => {\r\n              return (<BoardButton\r\n                key={`r${i}c${j}`}\r\n                keyPos={`${i},${j}`}\r\n                theme={props.themeButtons}\r\n              />);\r\n            });\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Board;\r\n","const SFXs = {\r\n  player1PutSFX: document.querySelector('#player1PutSFX'),\r\n  player2PutSFX: document.querySelector('#player2PutSFX'),\r\n  resetSFX: document.querySelector('#resetSFX'),\r\n  undoSFX: document.querySelector('#undoSFX'),\r\n  resultSFX: document.querySelector('#resultSFX')\r\n}\r\n\r\nfunction stopSFX(wav: Element | null): void {\r\n  (wav as HTMLAudioElement).pause();\r\n  (wav as HTMLAudioElement).currentTime = 0;\r\n}\r\n\r\nfunction initSFX(): void {\r\n  stopSFX(SFXs.player1PutSFX);\r\n  stopSFX(SFXs.player2PutSFX);\r\n  stopSFX(SFXs.undoSFX);\r\n  stopSFX(SFXs.resetSFX);\r\n  stopSFX(SFXs.resultSFX);\r\n}\r\n\r\nfunction playWav(wav: Element | null): void {\r\n  initSFX();\r\n  (wav as HTMLAudioElement).play();\r\n}\r\n\r\nexport function playSFX(wavName: string): void {\r\n  switch (wavName) {\r\n    case 'P1PUT':\r\n      playWav(SFXs.player1PutSFX);\r\n      break;\r\n    case 'P2PUT':\r\n      playWav(SFXs.player2PutSFX);\r\n      break;\r\n    case 'UNDO':\r\n      playWav(SFXs.undoSFX);\r\n      break;\r\n    case 'RESET':\r\n      playWav(SFXs.resetSFX);\r\n      break;\r\n    case 'RESULT':\r\n      playWav(SFXs.resultSFX);\r\n      break;     \r\n  }\r\n}\r\n","import { StoreState } from './StoreState';\r\nimport { playSFX } from '../sfxs/SoundEffects';\r\n\r\nconst EMPTY: number = 0;\r\nconst WIDTH: number = 19;\r\nconst HEIGHT: number = 19;\r\nconst OBJECTIVE: number = 5;\r\nconst COL_BOUNDARY: number = WIDTH - 1;\r\nconst ROW_BOUNDARY: number = HEIGHT - 1;\r\n\r\nfunction isInRange(row: number, col: number): boolean {\r\n  if (row < 0 || row > ROW_BOUNDARY || col < 0 || col > COL_BOUNDARY) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nfunction getNewTiles(status: StoreState, row: number, col: number, player: number): number[][] {\r\n  const newTiles = Array.from({length: HEIGHT}, (_, i) => Array.from(status.tiles[i]));\r\n  newTiles[row][col] = player;\r\n  return newTiles;\r\n};\r\n\r\nfunction getNewPlayer(curPlayer: number): number {\r\n  switch (curPlayer) {\r\n    case 1:\r\n      return 2;\r\n    case 2:\r\n      return 1;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nfunction checkWinner(row: number, col: number, newTiles: number[][]): [number, number[][]] {\r\n  const winner: number = newTiles[row][col];\r\n\r\n  const directions: number[][] = [[1, 0], [0, 1], [1, 1], [1, -1]];\r\n  for (let n: number = 0; n < directions.length; n++) {\r\n    const [rDir, cDir] = directions[n];\r\n    const collected: number[][] = [[row, col]];\r\n\r\n    let [curRow, curCol] = [row + rDir, col + cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow += rDir;\r\n      curCol += cDir;\r\n    }\r\n\r\n    [curRow, curCol] = [row - rDir, col - cDir];\r\n    while (isInRange(curRow, curCol) && newTiles[curRow][curCol] === winner) {\r\n      collected.push([curRow, curCol]);\r\n      curRow -= rDir;\r\n      curCol -= cDir;\r\n    }\r\n\r\n    if (collected.length === OBJECTIVE) {\r\n      return [winner, collected];\r\n    }\r\n  }\r\n\r\n  return [0, []];\r\n};\r\n\r\nexport function putStone(status: StoreState, row: number, col: number): StoreState {\r\n  if (status.tiles[row][col] !== 0) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: number[][] = getNewTiles(status, row, col, status.curPlayer);\r\n  const newPlayer: number = getNewPlayer(status.curPlayer);\r\n\r\n  const [winner, winningTracks] = checkWinner(row, col, newTiles);\r\n\r\n  const newHistory = Array.from(status.history);\r\n  newHistory.push([row, col]);\r\n\r\n  if (winner !== 0) {\r\n    playSFX('RESULT');\r\n  } else {\r\n    playSFX(`P${status.curPlayer}PUT`);\r\n  }\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: winner,\r\n    winningTracks: new Set<string>(\r\n      winningTracks.map((item) => `[${item[0]},${item[1]}]`)\r\n    )\r\n  };\r\n};\r\n\r\nexport function undo(status: StoreState): StoreState {\r\n  if (status.history.length === 0) {\r\n    return status;\r\n  }\r\n\r\n  const newHistory = Array.from(status.history);\r\n  const tmp: number[] | undefined = newHistory.pop();\r\n\r\n  if (tmp === undefined) {\r\n    return status;\r\n  }\r\n\r\n  const [row, col] = tmp;\r\n  if (!isInRange(row, col)) {\r\n    return status;\r\n  }\r\n\r\n  const newTiles: number[][] = getNewTiles(status, row, col, EMPTY);\r\n  const newPlayer: number = getNewPlayer(status.curPlayer);\r\n\r\n  playSFX('UNDO');\r\n\r\n  return {\r\n    ...status,\r\n    tiles: newTiles,\r\n    curPlayer: newPlayer,\r\n    history: newHistory,\r\n    winner: EMPTY,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function resetBoard(status: StoreState): StoreState {\r\n  if (status.mode === 'GAME') {\r\n    playSFX('RESET');\r\n  }\r\n  \r\n  return {\r\n    ...status,\r\n    tiles: Array.from({length: HEIGHT}, () => Array.from({length: WIDTH}, () => 0)),\r\n    curPlayer: 1,\r\n    history: Array<number[]>(),\r\n    winner: 0,\r\n    winningTracks: new Set<string>()\r\n  };\r\n};\r\n\r\nexport function isAvailableMode(modeName: string) {\r\n  switch (modeName) {\r\n    case 'GAME': case 'REPLAY':\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport { StoreState, initState } from './StoreState';\r\nimport { StoreActions } from './StoreActions';\r\nimport {\r\n  putStone,\r\n  undo,\r\n  resetBoard,\r\n  isAvailableMode\r\n} from './StoreProcess';\r\n\r\nexport const store = createStore((state: StoreState = initState, action: StoreActions) => {\r\n  /*\r\n    1. PUT TYPE ACTION (coords: [row, col])\r\n      - Put a tile into new coords\r\n      - Push coords as an element in history\r\n      - Check winner and winningTracks\r\n      - Switch player\r\n    2. UNDO TYPE ACTION\r\n      - If there's no history, stop this process\r\n      - Clear a tile in coords of the top element in history\r\n      - Pop the top element in history\r\n      - Switch player\r\n      - Revoke winner and winningTracks\r\n    3. RESET TYPE ACTION - Resets the whole board\r\n      - Clear all the tiles\r\n      - Set curPlayer to 1\r\n      - Clear history\r\n      - Set winner to 0\r\n      - Clear winningTracks\r\n    4. MODECHANGE TYPE ACTION (mode: 'GAME' or 'REPLAY')\r\n      - Mode change resets the whole board\r\n  */\r\n  switch (action.type) {\r\n    case 'PUT':\r\n      return putStone(state, action.payload[0], action.payload[1]);\r\n    case 'UNDO':\r\n      return undo(state);\r\n    case 'RESET':\r\n      return resetBoard(state);\r\n    case 'MODECHANGE':\r\n      return {\r\n        ...resetBoard(state),\r\n        mode: isAvailableMode(action.payload) ? action.payload : state.mode\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n});\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { store } from '../store/Store';\r\nimport { StoreState } from '../store/StoreState';\r\nimport styles from './Bottom.module.css';\r\n\r\nfunction GameBottom() {\r\n  const dispatch = useDispatch();\r\n  \r\n  return (\r\n    <div className={styles.Bottom}>\r\n      <button onClick={() => {\r\n        dispatch({ type: 'UNDO' });\r\n      }}>\r\n        Undo\r\n      </button>\r\n      <button onClick={() => {\r\n        dispatch({ type: 'RESET' });\r\n      }}>\r\n        Reset\r\n      </button>\r\n      <button onClick={() => {\r\n        const status: StoreState = store.getState();\r\n\r\n        const replayData = {\r\n          width: 19,\r\n          height: 19,\r\n          history: status.history\r\n        };\r\n\r\n        const file: HTMLAnchorElement = document.createElement('a');\r\n        const fileBlob: Blob = new Blob([JSON.stringify(replayData)], {type: 'json'});\r\n        file.href = URL.createObjectURL(fileBlob);\r\n        file.download = 'replay.json';\r\n        file.click();\r\n      }}>\r\n        Save As Replay\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameBottom;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction ReplayBottom() {\r\n  const dispatch = useDispatch();\r\n  const [status, setStatus] = useState({\r\n    history: Array<number[]>(),\r\n    curTrack: 0,\r\n    maxTrack: 0\r\n  });\r\n\r\n  const loadReplay = (files: FileList): void => {\r\n    if (files.length <= 0) {\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => {\r\n      const result = JSON.parse(reader.result as string);\r\n\r\n      if (result.width !== 19 || result.height !== 19) {\r\n        return;\r\n      }\r\n\r\n      if (result.history === null || result.history === undefined) {\r\n        return;\r\n      }\r\n      \r\n      dispatch({ type: 'RESET' });\r\n      setStatus({\r\n        history: result.history,\r\n        curTrack: 0,\r\n        maxTrack: result.history.length\r\n      });\r\n    });\r\n\r\n    reader.readAsText(files[0]);\r\n  };\r\n\r\n  const onClickPrev = (): void => {\r\n    if (status.curTrack <= 0) {\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'UNDO' });\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack - 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  const onClickNext = () => {\r\n    if (status.curTrack >= status.maxTrack) {\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      type: 'PUT',\r\n      payload: status.history[status.curTrack]\r\n    });\r\n\r\n    setStatus({\r\n      history: status.history,\r\n      curTrack: status.curTrack + 1,\r\n      maxTrack: status.history.length\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"Bottom\">\r\n      <label>Replay File: </label>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"application/json\"\r\n        onChange={(event) => {\r\n          if ((event.target as HTMLInputElement).files) {\r\n            loadReplay((event.target as HTMLInputElement).files as FileList);\r\n          }\r\n        }\r\n      }/>\r\n      <button onClick={onClickPrev}>\r\n        Prev\r\n      </button>\r\n      {\r\n        `${status.curTrack} / ${status.maxTrack}`\r\n      }\r\n      <button onClick={onClickNext}>\r\n        Next\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReplayBottom;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { StoreState, initState } from '../store/StoreState';\r\nimport styles from './Bottom.module.css';\r\nimport GameBottom from './GameBottom';\r\nimport ReplayBottom from './ReplayBottom';\r\n\r\ninterface BottomState {\r\n  mode: string\r\n}\r\n\r\nfunction Bottom() {\r\n  const selector = (state: StoreState = initState): BottomState => {\r\n    return {\r\n      mode: state.mode\r\n    };\r\n  };\r\n  const status = useSelector(selector);\r\n\r\n  const renderBottom = (): JSX.Element => {\r\n    switch (status.mode) {\r\n      case 'GAME':\r\n        return (\r\n          <GameBottom />\r\n        );\r\n      case 'REPLAY':\r\n        return (\r\n          <ReplayBottom />\r\n        );\r\n      default:\r\n        return (\r\n          <div>\r\n            Invalid mode\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.Bottom}>\r\n      {\r\n        renderBottom()\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bottom;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction ModeCahnger() {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"ModeChanger\" onChange={(event) => {\r\n      dispatch({\r\n        type: 'MODECHANGE',\r\n        payload: (event.target as HTMLInputElement).value\r\n      });\r\n    }}>\r\n      <input type=\"radio\" id=\"game\" name=\"mode\" value=\"GAME\" defaultChecked />\r\n      <label>Game</label>\r\n      <input type=\"radio\" id=\"replay\" name=\"mode\" value=\"REPLAY\" />\r\n      <label>Replay</label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModeCahnger;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { initState, StoreState } from '../store/StoreState';\r\n\r\n\r\ninterface WinnerEffectState {\r\n  winner: number,\r\n  mode: string\r\n};\r\n\r\nfunction WinnerEffect() {\r\n  const selector = (state: StoreState = initState): WinnerEffectState => {\r\n    return {\r\n      winner: state.winner,\r\n      mode: state.mode\r\n    }\r\n  };\r\n  const status = useSelector(selector);\r\n  const renderWinnerEffect = (): JSX.Element => {\r\n    if (status.mode === 'GAME' && status.winner !== 0) {\r\n      return (\r\n        <div className=\"WinnerEffect\">\r\n          <div className=\"WinnerEffectContent\">\r\n            <span>\r\n              Player { status.winner } Wins!\r\n            </span>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (<div></div>);\r\n    }\r\n  };\r\n\r\n  return (\r\n    renderWinnerEffect()\r\n  );\r\n}\r\n\r\nexport default WinnerEffect;\r\n","import React from 'react';\r\nimport Title from './Title';\r\nimport Board from './Board';\r\nimport Bottom from './Bottom';\r\nimport ModeChanger from './ModeChanger';\r\nimport WinnerEffect from './WinnerEffect';\r\n\r\nconst THEME_BUTTONS = {\r\n  'default': ['âš«', 'âšª'],\r\n  'halloween': ['ðŸŸ¤', 'ðŸŸ '],\r\n  'winter': ['ðŸ”´', 'ðŸŸ¢']\r\n};\r\n\r\nconst THEME_TITLES = {\r\n  'default': 'React Gomoku',\r\n  'halloween': 'Halloween Gomoku',\r\n  'winter': 'Holiday Gomoku'\r\n};\r\n\r\nconst THEME_INDEX = (() => {\r\n  const dat: Date = new Date();\r\n\r\n  const day: number = dat.getDate();\r\n  const month: number = dat.getMonth();\r\n\r\n  if (month === 9 && day === 31) {\r\n    // October 31\r\n    return 'halloween';\r\n  } else if ((month === 0 && day === 1) || (month === 11 && day === 25)) {\r\n    // January 1 or December 25\r\n    return 'winter';\r\n  }\r\n\r\n  return 'default';\r\n})();\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"Main\">\r\n      <Title title={THEME_TITLES[THEME_INDEX]} />\r\n      <ModeChanger />\r\n      <Board\r\n        themeButtons={THEME_BUTTONS[THEME_INDEX]}\r\n      />\r\n      <Bottom />\r\n      <WinnerEffect />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport './App.css';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store/Store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BoardButton\":\"BoardButton_BoardButton__2YGCI\",\"Player0\":\"BoardButton_Player0__2NSob\",\"Player1\":\"BoardButton_Player1__1XAS6\",\"Player2\":\"BoardButton_Player2__qXutw\",\"LeftTopCorner\":\"BoardButton_LeftTopCorner__2minL\",\"RightTopCorner\":\"BoardButton_RightTopCorner__3qdAy\",\"LeftBottomCorner\":\"BoardButton_LeftBottomCorner__1feHF\",\"RightBottomCorner\":\"BoardButton_RightBottomCorner__2mICm\",\"LeftEdge\":\"BoardButton_LeftEdge__3G5n6\",\"RightEdge\":\"BoardButton_RightEdge__1kWCK\",\"TopEdge\":\"BoardButton_TopEdge__2cyOm\",\"BottomEdge\":\"BoardButton_BottomEdge__3sBQI\",\"InBoard\":\"BoardButton_InBoard__oUbcb\",\"TrackedResult\":\"BoardButton_TrackedResult__38tq2\",\"FlashTrackedResult\":\"BoardButton_FlashTrackedResult__va6Sj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Bottom\":\"Bottom_Bottom__2XzBw\"};"],"sourceRoot":""}