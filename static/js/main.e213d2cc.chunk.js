(this["webpackJsonpreact-gomoku"]=this["webpackJsonpreact-gomoku"]||[]).push([[0],{10:function(e,r,t){},12:function(e,r,t){"use strict";t.r(r);var n=t(1),c=t.n(n),o=t(4),i=t.n(o),a=(t(9),t(10),t(0));var u=function(e){return Object(a.jsx)("div",{className:"Title",children:e.title})},s=t(2),l=[["LeftTopCorner","TopEdge","RightTopCorner"],["LeftEdge","InBoard","RightEdge"],["LeftBottomCorner","BottomEdge","RightBottomCorner"]];var f=function(e){var r=e.keyPos.split(",").map((function(e){return parseInt(e)})),t=Object(s.a)(r,2),n=t[0],c=t[1],o=l[0===n?0:18===n?2:1][0===c?0:18===c?2:1],i=e.tracked?"TrackedResult":"";return Object(a.jsx)("button",{className:"BoardButton Player".concat(e.who," ").concat(o," ").concat(i),id:e.keyPos,disabled:e.clicked||e.winnerExists,children:0!==e.who?1===e.who?"\u26ab":"\u26aa":"\ud83d\udd34"},e.keyPos)};var y=function(e){return Object(a.jsxs)("div",{className:"Bottom",children:[e.info&&""!==e.info?Object(a.jsxs)("div",{children:[" ",e.info," "]}):"",Object(a.jsx)("button",{onClick:function(){e.onClickUndo()},children:"Undo"}),Object(a.jsx)("button",{onClick:function(){e.onClickReset()},children:"Reset"})]})};var d=function(e){var r=Object(n.useState)({tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return 0}))})),curPlayer:1,history:Array(),winner:0,winningTracks:Array()}),t=Object(s.a)(r,2),c=t[0],o=t[1],i=function(e){e&&(e.pause(),e.currentTime=0)},u=function(r){i(e.player1PutSFX),i(e.player2PutSFX),i(e.undoSFX),i(e.resetSFX),i(e.resultSFX),r&&r.play()},l=function(e,r){return!(e<0||e>18||r<0||r>18)},d=function(e,r,t){var n=Array.from({length:19},(function(e,r){return Array.from(c.tiles[r])}));return n[e][r]=t,n},h=function(e){switch(e){case 1:return 2;case 2:return 1;default:return 0}},j=function(e,r,t){for(var n=t[e][r],c=[[1,0],[0,1],[1,1],[1,-1]],o=0;o<c.length;o++){for(var i=Object(s.a)(c[o],2),a=i[0],u=i[1],f=[[e,r]],y=e+a,d=r+u;l(y,d)&&t[y][d]===n;)f.push([y,d]),y+=a,d+=u;for(y=e-a,d=r-u;l(y,d)&&t[y][d]===n;)f.push([y,d]),y-=a,d-=u;if(5===f.length)return[n,f]}return[0,[]]},S=new Set(c.winningTracks.map((function(e){return"".concat(e[0],",").concat(e[1])})));return Object(a.jsxs)("div",{className:"Board",onClick:function(r){var t=r.target.id.split(",").map((function(e){return parseInt(e)})),n=Object(s.a)(t,2),i=n[0],a=n[1];Number.isNaN(i)||Number.isNaN(a)||function(r,t){if(0===c.tiles[r][t]){var n=d(r,t,c.curPlayer),i=h(c.curPlayer),a=j(r,t,n),l=Object(s.a)(a,2),f=l[0],y=l[1],S=Array.from(c.history);if(S.push([r,t]),0!==f)u(e.resultSFX);else switch(c.curPlayer){case 1:u(e.player1PutSFX);break;case 2:u(e.player2PutSFX)}o({tiles:n,curPlayer:i,history:S,winner:f,winningTracks:y})}}(i,a)},children:[Object(a.jsx)("div",{className:"Tiles",children:c.tiles.map((function(e,r){return e.map((function(e,t){return Object(a.jsx)(f,{keyPos:"".concat(r,",").concat(t),who:e,clicked:0!==e,winnerExists:0!==c.winner,tracked:0!==c.winner&&S.has("".concat(r,",").concat(t))},"r".concat(r,"c").concat(t))}))}))}),Object(a.jsx)(y,{info:0!==c.winner?"Player ".concat(c.winner," wins!"):"Player ".concat(c.curPlayer,"'s turn!"),onClickUndo:function(){if(0!==c.history.length){u(e.undoSFX);var r=Array.from(c.history),t=r.pop();if(void 0!==t){var n=Object(s.a)(t,2),i=n[0],a=n[1];if(l(i,a)){var f=d(i,a,0),y=h(c.curPlayer);o({tiles:f,curPlayer:y,history:r,winner:0,winningTracks:Array()})}}}},onClickReset:function(){u(e.resetSFX),o({tiles:Array.from({length:19},(function(){return Array.from({length:19},(function(){return 0}))})),curPlayer:1,history:Array(),winner:0,winningTracks:Array()})}})]})};var h=function(){var e={player1PutSFX:document.querySelector("#player1PutSFX"),player2PutSFX:document.querySelector("#player2PutSFX"),resetSFX:document.querySelector("#resetSFX"),undoSFX:document.querySelector("#undoSFX"),resultSFX:document.querySelector("#resultSFX")};return Object(a.jsxs)("main",{className:"Main",children:[Object(a.jsx)(u,{title:"React Gomoku"}),Object(a.jsx)(d,{player1PutSFX:e.player1PutSFX,player2PutSFX:e.player2PutSFX,resetSFX:e.resetSFX,undoSFX:e.undoSFX,resultSFX:e.resultSFX})]})};var j=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(h,{})})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(r){var t=r.getCLS,n=r.getFID,c=r.getFCP,o=r.getLCP,i=r.getTTFB;t(e),n(e),c(e),o(e),i(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(j,{})}),document.getElementById("root")),S()},9:function(e,r,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.e213d2cc.chunk.js.map